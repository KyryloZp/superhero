(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/MrP":function(e,n,t){e.exports=t.p+"public/cookies-34880ec109a389c69d5b5336583dfeb9.png"},gSCk:function(e,n,t){"use strict";(function(e){t("ma9I"),t("QWBl"),t("4mDm"),t("Tskq"),t("07d7"),t("PKPk"),t("FZtP"),t("3bBZ");var i=t("q1tI");var o=new Map,r=void 0!==e?new e((function(e){e.forEach((function(e){var n=o.get(e.target);void 0!==n&&n(e)}))}),{rootMargin:"0px",threshold:[0,.25,.5,.75,1]}):void 0,c=function(e,n){return void 0===r?function(){}:(r.observe(e),o.set(e,n),function(){r.unobserve(e),o.delete(e)})},a=function(e){var n,t;function i(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).isIntersecting=!1,n.intersectionRatio=null,n.unobserve=void 0,n.recsTest=null,n.onIntersection=function(e){var t=n.props.threshold,i=void 0===t?0:t,o=.25*Math.round(4*e.intersectionRatio),r=e.isIntersecting&&o>=i;r!==n.isIntersecting&&(n.isIntersecting=r,n.props.onIntersection(r)),o!==n.intersectionRatio&&void 0!==n.props.onUpdate?(n.intersectionRatio=o,n.props.onUpdate({isIntersecting:e.isIntersecting,intersectionRatio:o})):n.intersectionRatio=null},n.onRef=function(e){e&&(void 0!==n.unobserve&&n.unobserve(),n.unobserve=c(e,n.onIntersection))},n.observerProps={onRef:n.onRef},n}t=e,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=i.prototype;return o.componentWillUnmount=function(){void 0!==this.unobserve&&this.unobserve()},o.render=function(){return(0,this.props.children)(this.observerProps)},i}(i.Component);n.a=a}).call(this,t("zH/6"))},kklZ:function(e,n,t){e.exports=t.p+"public/cookieguy-416967d2483b97a99e8705ec59b81ab3.png"},qfJt:function(e,n,t){"use strict";t("TeQF"),t("zKZe");var i=t("q1tI"),o=t.n(i),r=t("c/gA"),c=t("qnxR"),a=t("uVGu"),s=t("nQC+"),l=t("gSCk"),u=t("MaL9"),d=t("QxVr"),m=(t("2B1R"),t("m4Mt")),p=t("5P45"),f=t("vFDw"),g=t("vOnD"),b=g.d.div.withConfig({displayName:"ProductRecommendationsstyles__Wrapper",componentId:"sc-1anuv2e-0"})(["\n  max-width: ",";\n  margin: 0 auto;\n  padding: ",";\n\n  ",";\n\n  ",";\n"],(function(e){return e.theme.contentMaxWidth()}),(function(e){return e.theme.sizing("ms")}),(function(e){return e.theme.media.min("small")(Object(g.c)(["\n      padding-top: ",";\n      padding-bottom: ",";\n    "],e.theme.sizing("lg"),e.theme.sizing("lg")))}),(function(e){return e.theme.media.min("medium")(Object(g.c)(["\n      padding-top: ",";\n      padding-bottom: ",";\n    "],e.theme.sizing("xl"),e.theme.sizing("xl")))})),h=function(e){var n=e.id,t=e.recommendations,r=e.onRef,c=e.titleData,a=e.onCart,s=e.visibilityTracking,l=Object(d.a)().handleInteraction,u=Object(m.a)(),g=c.isCmsContent,h=void 0!==g&&g,k=c.title,y=c.showTitle,v=void 0!==y&&y,C=h?k:u("recommended.title"),z=Object(i.useMemo)((function(){return t.map((function(e){return{product:e}}))}),[t]);return o.a.createElement(b,{"data-test":"product-recommended",ref:r},o.a.createElement(f.a,{title:C,showTitle:h&&v||!h,"data-test":"recommendations",products:z,visibilityTracking:s,renderProduct:function(e){return o.a.createElement(p.a,{recommendationId:n,componentType:"CarouselProductLeaf",product:e.product,onClickLink:function(){l(e.product.productCode,n)},onCart:a})}}))},k=function(e){var n=e.onRef;return o.a.createElement("div",{"data-test":"product-recommended",ref:n})},y=t("rpc3"),v=(t("E9XD"),t("rB9j"),t("UxlC"),t("Ps6z")),C=t("lN9A"),z=t("Zf+v"),j=t("hvTC"),O=t("hpBK"),w=g.d.div.withConfig({displayName:"CookieSignPostingstyles__Wrapper",componentId:"sc-1ctz8kz-0"})(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-bottom: ",";\n\n  ",";\n\n  ",";\n"],(function(e){return e.theme.sizing("ms")}),(function(e){return e.theme.media.min("small")(Object(g.c)(["\n      margin-bottom: ",";\n    "],e.theme.sizing("lg")))}),(function(e){return e.theme.media.min("medium")(Object(g.c)(["\n      margin-bottom: ",";\n    "],e.theme.sizing("xl")))})),I=g.d.div.withConfig({displayName:"CookieSignPostingstyles__Banner",componentId:"sc-1ctz8kz-1"})(["\n  background: ",";\n  border-radius: 0;\n  display: inline-flex;\n  align-items: start;\n  padding: ",";\n  width: auto;\n  ","\n"],(function(e){return e.theme.color("blue_extra_light")}),(function(e){return e.theme.sizing("4xs")}),(function(e){var n=e.theme;return Object(g.c)(["\n    ","\n  "],n.media.min("small")(Object(g.c)(["\n      border-radius: ",";\n    "],"3.3125rem")))})),_=g.d.div.withConfig({displayName:"CookieSignPostingstyles__CookieGuyImageContainer",componentId:"sc-1ctz8kz-2"})(["\n  margin: ",";\n  border: 3px solid ",";\n  border-radius: ",";\n  text-align: center;\n  ","\n"],(function(e){return e.theme.sizing("4xs")}),(function(e){return e.theme.color("white")}),"3.3125rem",(function(e){var n=e.theme;return Object(g.c)(["\n    ","\n  "],n.media.min("small")(Object(g.c)(["\n      margin: 0 "," 0 0;\n    "],n.sizing("xs"))))})),x=g.d.div.withConfig({displayName:"CookieSignPostingstyles__FlexWrapper",componentId:"sc-1ctz8kz-3"})(["\n  display: flex;\n  align-items: center;\n"]),P=g.d.img.withConfig({displayName:"CookieSignPostingstyles__CookieGuyImage",componentId:"sc-1ctz8kz-4"})(["\n  max-width: ",";\n"],(function(e){return e.theme.sizing("4xl")})),E=g.d.div.withConfig({displayName:"CookieSignPostingstyles__TextAndLinksWrapper",componentId:"sc-1ctz8kz-5"})(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin: "," 0;\n"],(function(e){return e.theme.sizing("3xs")})),S=g.d.div.withConfig({displayName:"CookieSignPostingstyles__LinksWrapper",componentId:"sc-1ctz8kz-6"})(["\n  display: flex;\n  text-align: center;\n"]),R=g.d.img.withConfig({displayName:"CookieSignPostingstyles__CookiesImage",componentId:"sc-1ctz8kz-7"})(["\n  display: none;\n  ","\n"],(function(e){var n=e.theme;return Object(g.c)(["\n    height: ",";\n    ","\n  "],n.sizing("4xl"),n.media.min("small")(Object(g.c)(["\n      display: block;\n      margin-left: ",";\n    "],n.sizing("xs"))))})),T=Object(g.d)(z.b).withConfig({displayName:"CookieSignPostingstyles__StyledButtonLink",componentId:"sc-1ctz8kz-8"})(["\n  margin-right: ",";\n  text-decoration: underline;\n"],(function(e){return e.theme.sizing("ms")})),N=Object(g.d)(j.a).withConfig({displayName:"CookieSignPostingstyles__StyledLink",componentId:"sc-1ctz8kz-9"})(["\n  text-decoration: underline;\n"]),L=Object(g.d)(O.b).withConfig({displayName:"CookieSignPostingstyles__BodyText",componentId:"sc-1ctz8kz-10"})(["\n  font-size: ",";\n  ",";\n"],(function(e){return e.theme.fontSize("sm2")}),(function(e){return e.theme.media.min("medium")(Object(g.c)(["\n      font-size: ",";\n    "],e.theme.fontSize("sm1")))})),B=Object(g.d)(O.b).withConfig({displayName:"CookieSignPostingstyles__TitleText",componentId:"sc-1ctz8kz-11"})(["\n  font-size: ",";\n  ",";\n  ",";\n"],(function(e){return e.theme.fontSize("sm1")}),(function(e){return e.theme.media.min("small")(Object(g.c)(["\n      font-size: ",";\n    "],e.theme.fontSize("s0")))}),(function(e){return e.theme.media.min("medium")(Object(g.c)(["\n      font-size: ",";\n    "],e.theme.fontSize("s1")))})),M=t("kklZ"),A=t.n(M),q=t("/MrP"),W=t.n(q),D=function(e){var n=e.title,t=e.subtitle,i=e.primaryLink,r=e.secondaryLink,c=e.onPrimaryLinkClick;return o.a.createElement(w,{"data-test":"cookie-sign-posting"},o.a.createElement(I,null,o.a.createElement(_,null,o.a.createElement(P,{src:A.a,alt:"guy holding a cookie"})),o.a.createElement(x,null,o.a.createElement(E,null,o.a.createElement(B,{weight:"bold"},n),o.a.createElement(L,null,t),o.a.createElement(S,null,o.a.createElement(T,{type:"link",onClick:c,"data-test":"cookie-sign-posting-primary-link"},o.a.createElement(L,{weight:"semiBold"},i)),o.a.createElement(N,{to:"/cookie-policy",type:"link","data-test":"cookie-sign-posting-secondary-link"},o.a.createElement(L,{weight:"semiBold"},r)))),o.a.createElement(R,{src:W.a,alt:"cookies"}))))},Z=function(){var e=Object(C.a)(),n=e.query,t=e.replace,i=e.pathname,r=Object(m.a)(),c=function(e){if(e){var n=e.reduce((function(e,n){return e[n.label]=n.value,e}),{}),t=n.analytics,i=n.legomarketing,o=n.thirdparty;return t?i?o?"":"cookie.recs.accept.thirdparty":o?"cookie.recs.accept.legomarketing":"cookie.recs.accept.legomarketing.thirdparty":i?o?"cookie.recs.accept.analytics":"cookie.recs.accept.analytics.thirdparty":o?"cookie.recs.accept.analytics.legomarketing":"cookie.recs.accept.all"}return""}(Object(v.e)());return c?o.a.createElement(D,{title:r(c+".title"),subtitle:r(c+".subtitle"),primaryLink:r("cookie.recs.lets.do.this"),secondaryLink:r("cookie.recs.tell.more"),onPrimaryLinkClick:function(){t({pathname:i,query:Object.assign({},n,{"consent-modal":"show"})})}}):null};n.a=function(e){var n,t=e.productCode,m=e.siteArea,p=e.isCmsContent,f=void 0!==p&&p,g=e.title,b=e.showTitle,v=void 0!==b&&b,C=e.onIntersection,z=e.orderedItems,j=Object(u.a)(t,z),O=j.recommendationData,w=j.renderRecommendations,I=Object(r.a)().fetched,_=Object(c.a)(),x=Object(d.a)(),P=x.reportRecsLoaded,E=x.handleIntersection,S=Object(i.useState)(null),R=S[0],T=S[1],N=Object(i.useState)(!1),L=N[0],B=N[1],M=Object(i.useRef)(R),A=Object(i.useRef)(!0),q=Object(i.useState)(void 0),W=q[0],D=q[1],F=Object(i.useState)(null),Q=F[0],G=F[1],U=Object(i.useState)(!1),V=U[0],J=U[1],K=function(e){B(e),C&&C()},H=function(){if(w){n&&(n.unsubscribe(),n=void 0);var i=Object(s.d)(),o=Object(s.b)();if(i&&e.siteArea){var r=_.watchQuery({query:y.a,fetchPolicy:"network-only",variables:Object.assign({siteArea:m,productCode:t,sessionCookieId:i,crossSessionCookieId:o},O)});n=r.subscribe((function(e){e.data&&!e.errors&&function(e){var n=e&&e.recommender;if(n){var t=n.recommendations,i=t&&t.length?t.filter((function(e){var n=function(e){var n,t;return"SingleVariantProduct"===e.__typename?null!=(n=e)?n.variant:n:"MultiVariantProduct"===e.__typename?null!=(t=e)&&null!=(t=t.variants)?t[0]:t:null}(e);return n&&n.attributes&&n.attributes.canAddToBag})):[];G(i),D(n.id)}}(e.data)}))}}};if(Object(a.a)((function(){J(!0)})),Object(i.useEffect)((function(){return P(W)}),[W,P]),Object(i.useEffect)((function(){if(I)return H(),function(){n&&n.unsubscribe()}}),[I,t,m,w]),Object(i.useEffect)((function(){L&&R&&W&&(A.current||M.current&&M.current<R)&&(M.current=R,A.current=!1,E(L,W,R))}),[W,E,R,L,M]),!V||!W||!Q)return null;var X=W&&(!Q||!Q.length);return w?o.a.createElement(l.a,{onIntersection:function(e){return K(e)}},(function(e){var n=e.onRef;return X?o.a.createElement(k,{onRef:n}):o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{productCode:t,onRef:n,id:W,recommendations:Q,titleData:{isCmsContent:f,showTitle:v,title:g},onCart:"SHOPPING_CART"===m,visibilityTracking:function(e){return function(e){T(e)}(e)}}),o.a.createElement(Z,null))})):null}}}]);
//# sourceMappingURL=87b17246d6ac35576c05.11.js.map