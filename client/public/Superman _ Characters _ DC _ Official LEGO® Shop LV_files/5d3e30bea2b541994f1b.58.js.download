(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"/SQI":function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));t("yq1k"),t("2B1R"),t("Rfxz"),t("rB9j"),t("UxlC");var a=t("NFLX"),r=t("4Tsn"),i=t("rRgP"),o=t("e/ku"),c="UNAUTHORIZED",s="EXPIRED",u=function(e){return Object(r.a)((function(n){var t=n.graphQLErrors,r=n.networkError,u=n.operation;if(r&&410===r.statusCode&&e)return window.location.replace("//www.lego.com");if(r&&418===r.statusCode&&e)return window.location.replace(a.a.maintenanceRedirectPath);if(t){if((t||[]).some((function(e){return e&&e.extensions&&[c,s].includes(e.extensions.code)})))return void Object(o.a)();t.map((function(e){var n=e.message,t=e.path;return i.logger.error({operationName:u.operationName,path:t},"graphql request failed with "+n+" ")}))}}))}},"/T1M":function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var a={AU:{languages:[{code:"en",countryLabel:"Australia",languageLabel:"English"}],isVip:!0},BE:{languages:[{code:"fr",countryLabel:"Belgique",languageLabel:"Français"},{code:"nl",countryLabel:"België",languageLabel:"Nederlands"},{code:"en",countryLabel:"Belgium",languageLabel:"English"}],isVip:!0},BR:{languages:[{code:"pt",countryLabel:"Brasil",languageLabel:"Português"}],isVip:!1},CA:{languages:[{code:"en",countryLabel:"Canada",languageLabel:"English"},{code:"fr",countryLabel:"Canada",languageLabel:"Français",culture:"fr-ca"}],isVip:!0},CZ:{languages:[{code:"cs",countryLabel:"Česká republika",languageLabel:"Čeština"},{code:"en",countryLabel:"Czech Republic",languageLabel:"English"}],isVip:!0},DK:{languages:[{code:"da",countryLabel:"Danmark",languageLabel:"Dansk"},{code:"en",countryLabel:"Denmark",languageLabel:"English"}],isVip:!0},DE:{languages:[{code:"de",countryLabel:"Deutschland",languageLabel:"Deutsch"},{code:"en",countryLabel:"Germany",languageLabel:"English"}],isVip:!0},EE:{languages:[{code:"et",countryLabel:"Eesti",languageLabel:"Eesti"},{code:"en",countryLabel:"Estonia",languageLabel:"English"}],isVip:!0},ES:{languages:[{code:"es",countryLabel:"España",languageLabel:"Español"},{code:"en",countryLabel:"Spain",languageLabel:"English"}],isVip:!0},FI:{languages:[{code:"en",countryLabel:"Finland",languageLabel:"English"},{code:"fi",countryLabel:"Suomi",languageLabel:"Suomi"}],isVip:!0},FR:{languages:[{code:"fr",countryLabel:"France métropolitaine",languageLabel:"Français"},{code:"en",countryLabel:"France Metropolitan",languageLabel:"English"}],isVip:!0},GR:{languages:[{code:"en",countryLabel:"Greece",languageLabel:"English"}],isVip:!0},HU:{languages:[{code:"en",countryLabel:"Hungary",languageLabel:"English"},{code:"hu",countryLabel:"Magyarország",languageLabel:"Hungarian"}],isVip:!0},IE:{languages:[{code:"en",countryLabel:"Ireland",languageLabel:"English"}],isVip:!0},IT:{languages:[{code:"it",countryLabel:"Italia",languageLabel:"Italiano"},{code:"en",countryLabel:"Italy",languageLabel:"English"}],isVip:!0},LV:{languages:[{code:"lv",countryLabel:"Latvija",languageLabel:"Latviešu"},{code:"en",countryLabel:"Latvia",languageLabel:"English"}],isVip:!0},LT:{languages:[{code:"lt",countryLabel:"Lietuva",languageLabel:"Lietuviškai"},{code:"en",countryLabel:"Lithuania",languageLabel:"English"}],isVip:!0},LU:{languages:[{code:"fr",countryLabel:"Luxembourg",languageLabel:"Français"},{code:"de",countryLabel:"Luxemburg",languageLabel:"Deutsch"},{code:"en",countryLabel:"Luxemburg",languageLabel:"English"}],isVip:!0},MX:{languages:[{languageLabel:"Español",countryLabel:"México",code:"es"},{languageLabel:"English",countryLabel:"Mexico",code:"en"}],isVip:!0},MY:{languages:[{languageLabel:"English",countryLabel:"Malaysia",code:"en"}],isVip:!1},NL:{languages:[{code:"nl",countryLabel:"Nederland",languageLabel:"Nederlands"},{code:"en",countryLabel:"Netherlands",languageLabel:"English"}],isVip:!0},NZ:{languages:[{code:"en",countryLabel:"New Zealand",languageLabel:"English"}],isVip:!0},NO:{languages:[{code:"nb",countryLabel:"Norge",languageLabel:"Norsk Bokmål"},{code:"en",countryLabel:"Norway",languageLabel:"English"}],isVip:!0},AT:{languages:[{code:"de",countryLabel:"Österreich",languageLabel:"Deutsch"},{code:"en",countryLabel:"Austria",languageLabel:"English"}],isVip:!0},PL:{languages:[{code:"pl",countryLabel:"Polska",languageLabel:"Polski"},{code:"en",countryLabel:"Poland",languageLabel:"English"}],isVip:!0},PT:{languages:[{code:"pt",countryLabel:"Portugal",languageLabel:"Português"},{code:"en",countryLabel:"Portugal",languageLabel:"English"}],isVip:!0},RU:{languages:[{code:"ru",countryLabel:"Россия",languageLabel:"Русский"}],isVip:!1},CH:{languages:[{code:"de",countryLabel:"Schweiz",languageLabel:"Deutsch"},{code:"fr",countryLabel:"Suisse",languageLabel:"Français"},{code:"en",countryLabel:"Switzerland",languageLabel:"English"}],isVip:!0},SI:{languages:[{code:"en",countryLabel:"Slovenia",languageLabel:"English"}],isVip:!0},SK:{languages:[{code:"sk",countryLabel:"Slovensko",languageLabel:"Slovenčina"},{code:"en",countryLabel:"Slovakia",languageLabel:"English"}],isVip:!0},SG:{languages:[{code:"en",countryLabel:"Singapore",languageLabel:"English"}],isVip:!1},SE:{languages:[{code:"en",countryLabel:"Sweden",languageLabel:"English"},{code:"sv",countryLabel:"Sverige",languageLabel:"Svenska"}],isVip:!0},TR:{languages:[{code:"tr",countryLabel:"Türkiye",languageLabel:"Türkçe"}],isVip:!1},GB:{languages:[{code:"en",countryLabel:"United Kingdom",languageLabel:"English"}],isVip:!0},US:{languages:[{code:"en",countryLabel:"United States",languageLabel:"English"}],isVip:!0},KR:{languages:[{code:"ko",countryLabel:"대한민국",languageLabel:"한국어"}],isVip:!0},CN:{languages:[{code:"zh",countryLabel:"中华人民共和国",languageLabel:"中文"}],isVip:!1},JP:{languages:[{code:"ja",countryLabel:"日本",languageLabel:"日本語"}],isVip:!1},AR:{languages:[{code:"es",countryLabel:"Latinoamérica",languageLabel:"Español"}],isVip:!1},AE:{languages:[{code:"en",countryLabel:"United Arab Emirates",languageLabel:"English"}],isVip:!1},ZA:{languages:[{code:"en",countryLabel:"South Africa",languageLabel:"English"}],isVip:!1},IN:{languages:[{code:"en",countryLabel:"India",languageLabel:"English"}],isVip:!1},RO:{languages:[{code:"ro",countryLabel:"România",languageLabel:"România"}]},HK:{languages:[{code:"zh",countryLabel:"中國香港特別行政區",languageLabel:"繁體中文"}]},TW:{languages:[{code:"zh",countryLabel:"臺灣",languageLabel:"繁體中文"}]}},r={NA:{CA:a.CA,MX:a.MX,US:a.US},SA:{BR:a.BR,AR:a.AR},EU:{BE:a.BE,CZ:a.CZ,DK:a.DK,DE:a.DE,EE:a.EE,ES:a.ES,FI:a.FI,FR:a.FR,GR:a.GR,HU:a.HU,IE:a.IE,IT:a.IT,LV:a.LV,LT:a.LT,LU:a.LU,NL:a.NL,NO:a.NO,AT:a.AT,PL:a.PL,PT:a.PT,RO:a.RO,RU:a.RU,CH:a.CH,SI:a.SI,SK:a.SK,SE:a.SE,GB:a.GB},AS:{AU:a.AU,IN:a.IN,MY:a.MY,NZ:a.NZ,SG:a.SG,KR:a.KR,CN:a.CN,JP:a.JP,HK:a.HK,TW:a.TW},ME:{ZA:a.ZA,TR:a.TR,AE:a.AE}}},"/gu0":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));t("+2oP");var a=t("q1tI"),r=t("lTCR"),i=t.n(r),o=t("lN9A"),c=t("qnxR");function s(){var e=function(e,n){n||(n=e.slice(0));return e.raw=n,e}(["\n  query TagManagerUSDConversionRateQuery {\n    USDConversionRate\n  }\n"]);return s=function(){return e},e}var u=i()(s()),l=function(){var e=Object(c.a)(),n=Object(o.a)().locale,t=Object(a.useState)(null),r=t[0],i=t[1];return Object(a.useEffect)((function(){e.watchQuery({query:u,fetchPolicy:"cache-first"}).subscribe((function(e){if(e.data&&!e.errors){var t=e.data.USDConversionRate?e.data.USDConversionRate:1;i({locale:n,rate:t})}}))}),[e,n]),r}},"1geK":function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));t("4mDm"),t("zKZe"),t("07d7"),t("5s+n"),t("rB9j"),t("PKPk"),t("Rm1S"),t("UxlC"),t("3bBZ");var a=t("q1tI"),r=t.n(a),i=t("17x9"),o=t.n(i),c=t("Ty5D"),s=t("F64K"),u=(t("+2oP"),t("hByQ"),t("9RBy"));t("TeQF"),t("QWBl"),t("FZtP");var l=t("s3ei"),d=t("4EpP"),p=t("fkAo");function g(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(e){var n=function(e){return e&&"?"===e.charAt(0)?Object(l.a)(e.slice(1)):{}}(e.search),t=e.search?e.search.slice(1):"",a=Object(p.b)(e.pathname),r=Object(d.c)(a.locale),i=r.lang+"-"+r.country.toLowerCase(),o=e.key;return o||(o=i+"-"+e.pathname+"-"+t),Object.assign({},e,{query:n,info:Object.assign({},a,r,{search:t,locale:i})})},m=function(){function e(e,n){var t=this;this.history=void 0,this.action=void 0,this.length=void 0,this.staticContext=void 0,this.locationStack=void 0,this.go=void 0,this.goBack=void 0,this.goForward=void 0,this.block=void 0,this.listen=void 0,this.createHref=function(e){var n=e.search||"";return"?"===n.charAt(0)&&(n=n.slice(1)),t.format(Object.assign({},e,{pathname:e.pathname||"",search:n,hash:e.hash||""}))},this.format=function(e){var n,a,r;"string"==typeof e?n=e:(n=e.pathname,r=e.hash,a=Object.assign({},e.query,e.search?Object(l.a)(e.search):null));var i=Object(p.b)(n);return i.locale||(i.locale=t.location.info.locale),void 0!==a&&(i.search=Object(l.b)(Object.assign({},a,i.search?Object(l.a)(i.search):null))),void 0!==r&&(i.hash=r),Object(p.c)(i)},this.push=function(e){"object"==typeof e&&e.redirectPermanently?t.staticContext.status=301:t.staticContext.status=302,t.history.push(t.format(e))},this.replace=function(e){"object"==typeof e&&e.redirectPermanently?t.staticContext.status=301:t.staticContext.status=302,t.history.replace(t.format(e))},this.notFound=function(){t.staticContext.status=404},this.history=e,this.action=e.action,this.length=e.length,this.staticContext=n||{};var a=this.locationStack=[f(e.location)];this.go=e.go.bind(e),this.goBack=e.goBack.bind(e),this.goForward=e.goForward.bind(e),this.block=e.block.bind(e);var r,i,o=(r=null,i=[],{setPrompt:function(e){return r=e,function(){r===e&&(r=null)}},confirmTransitionTo:function(e,n,t,a){if(null!=r){var i="function"==typeof r?r(e,n):r;"string"==typeof i?"function"==typeof t?t(i,a):a(!0):a(!1!==i)}else a(!0)},appendListener:function(e){var n=!0;function t(){n&&e.apply(void 0,arguments)}return i.push(t),function(){n=!1,i=i.filter((function(e){return e!==t}))}},notifyListeners:function(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a],e=t;i.forEach((function(n){return n.apply(void 0,e)}))}});e.listen((function(n,r){var i=f(n);"PUSH"===r?a.push(i):"REPLACE"===r?a[a.length-1]=i:"POP"===r&&(a.pop(),a[a.length-1]=i),t.action=r,t.length=e.length,o.notifyListeners(i,r)})),this.listen=function(e){return o.appendListener(e)}}var n,t,a,r=e.prototype;return r.findLastLocation=function(e){for(var n=this.locationStack,t=n.length,a=n[t-1],r=t-2;r>=0;r--){var i=n[r];if(e(a,i))return i}return null},r.getPreviousPathname=function(){var e=this.findLastLocation((function(e,n){return e.pathname!==n.pathname}));return e?e.pathname:null},n=e,(t=[{key:"location",get:function(){var e=this.locationStack;return e[e.length-1]}}])&&g(n.prototype,t),a&&g(n,a),e}();var y=function(e,n){return new m(e||u.a,n)};var v=Object(a.createContext)(null),b=function(e){var n,t;function i(n,t){var a;return void 0===t&&(t={}),(a=e.call(this,n,t)||this).history=void 0,a.parentPush=void 0,a.parentReplace=void 0,a.push=function(e){return a.execAsyncTransition("PUSH",e)},a.replace=function(e){return a.execAsyncTransition("REPLACE",e)},a.subscriptionId=0,a.subscriptions={},a.subscribeAsyncRoute=function(e){var n=""+a.subscriptionId++;return a.subscriptions[n]=e,function(){delete a.subscriptions[n]}},a.cancelAsyncTransition=null,a.execAsyncTransition=function(e,n){var t,r=!1;a.cancelAsyncTransition&&(a.cancelAsyncTransition(),a.cancelAsyncTransition=null);var i=[];for(var o in a.subscriptions)if(a.subscriptions.hasOwnProperty(o)){var c=(0,a.subscriptions[o])(a.history.format(n));Object(s.a)(c)&&i.push(c)}var u=function(){r||("PUSH"===e?a.parentPush(n):"REPLACE"===e&&a.parentReplace(n))};if(0===i.length)return u();a.cancelAsyncTransition=function(){t&&clearTimeout(t),r=!0,a.setState({isLoading:!1})},a.setState({isLoading:!0}),Promise.all(i).then((function(){r||(t=setTimeout((function(){a.setState({isLoading:!1}),u()})))}))},a.history=y(a.props.history,a.props.staticContext),a.parentPush=a.history.push,a.parentReplace=a.history.replace,a.history.push=a.push,a.history.replace=a.replace,a.state={isLoading:!1,key:a.props.location.key},a.history.listen((function(e,n){var t=a.history.locationStack;"PUSH"===n&&t.length>1&&t[t.length-2].pathname!==e.pathname&&window.scrollTo(0,0),a.setState({key:e.key})})),a}t=e,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=i.prototype;return o.getChildContext=function(){return{router:{history:this.history,route:{location:this.history.location,match:this.props.match}}}},o.render=function(){var e=this.props.children;if(!e)return null;var n=Object.assign({},this.state,this.getChildContext(),{subscribeAsyncRoute:this.subscribeAsyncRoute});return r.a.createElement(v.Provider,{value:n},a.Children.only(e))},i}(a.Component);b.childContextTypes={router:o.a.object.isRequired};n.b=Object(c.h)(b)},"2Nwe":function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));t("piMb"),t("zKZe");var a=t("q1tI"),r=t("o6BI"),i=t("4yIv"),o=function(e){var n=e.getBoundingClientRect(),t=n.width,a=n.height;return{left:e.offsetLeft,top:e.offsetTop,width:t,height:a}},c={animating:!1,inverseStyles:null,finalStyles:null};function s(e,n){switch(n.type){case"setup":return Object.assign({},c,{inverseStyles:(t=n.initStyles,a=n.finalStyles,{top:a.top-t.top,left:a.left-t.left,scaleX:t.width/a.width,scaleY:t.height/a.height}),finalStyles:n.finalStyles});case"animate":return Object.assign({},e,{animating:!0});case"transitionend":return{animating:!1,inverseStyles:null,finalStyles:null};default:return c}var t,a}var u=function(e){var n=Object(a.useRef)(null),t=Object(a.useRef)(null),u=Object(a.useReducer)(s,c),l=u[0],d=u[1],p=Object(i.a)(l.animating);Object(a.useEffect)((function(){n.current&&(t.current=o(n.current))}),[]),Object(r.a)((function(){if(n.current&&t.current&&!l.inverseStyles&&(!p||l.animating)){var e,a,r=t.current,i=o(n.current);if(e=i,a=r,!["top","left"].every((function(n){return e[n]===a[n]})))d({type:"setup",initStyles:r,finalStyles:i}),t.current=i}})),Object(a.useEffect)((function(){l.inverseStyles&&!l.animating&&d({type:"animate"})}),[l.inverseStyles,l.animating]);var g=Object.assign({},l.inverseStyles&&l.finalStyles?Object.assign({position:"fixed",top:l.finalStyles.top,left:l.finalStyles.left,transform:"translate("+-l.inverseStyles.left+"px, "+-l.inverseStyles.top+"px) scaleX("+l.inverseStyles.scaleX+") scaleY("+l.inverseStyles.scaleY+")"},l.animating?{transition:"all "+(e||"0.3s ease"),transform:"translate(0, 0) scaleX(1) scaleY(1)"}:{}):{});return{ref:n,onTransitionEnd:function(e){e.target!==n.current||e.pseudoElement||l.inverseStyles&&l.animating&&d({type:"transitionend"})},style:g}}},"3ACc":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t("yXV3");var a=t("NFLX"),r=function(e){return void 0===e&&(e=""),!(-1!==(a.a.disabledLegoIdLocales||[]).indexOf(e.toLowerCase()))}},"4EpP":function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return d})),t.d(n,"a",(function(){return p}));t("fbCW"),t("rB9j"),t("Rm1S"),t("EnZy");var a=t("NFLX"),r=t("mwIZ"),i=t.n(r),o=t("Ps6z"),c=t("/T1M"),s=t("fkAo"),u=/^([a-z]{2})-([A-Za-z]{2})$/,l=function(e){var n=c.a[e.toUpperCase()];return n?n.languages[0].code+"-"+e:null},d=function(e){var n=e.match(u),t=n?n[1]:void 0;return function(e){var n,t=e.country,r=e.lang,i=(a.a.disabledLocales||[]).find((function(e){return e===((r||"")+"-"+(t||"")).toLowerCase()}));i&&(n=i.split("-")[0]);var o=c.a.US.languages[0],s={isValid:!1,countryLabel:o?o.countryLabel:"",langLabel:o?o.languageLabel:"",culture:o?o.culture:void 0,country:"US",lang:o?o.code:"en"},u=(t||"").toUpperCase(),l=c.a[u];if(void 0===l)return s;var d=(r||"").toLowerCase(),p=l.languages.find((function(e){return e.code===d&&e.code!==n}));if(void 0===p){var g=l.languages.find((function(e){return!0===e.default}))||l.languages[0];return g.code===n?s:{isValid:!1,countryLabel:g?g.countryLabel:"",langLabel:g?g.languageLabel:"",culture:g?g.culture:void 0,country:u,lang:g?g.code:"en"}}return{isValid:!0,countryLabel:p.countryLabel,langLabel:p.languageLabel,culture:p?p.culture:void 0,country:u,lang:d}}({country:n?n[2]:void 0,lang:t})},p=function(e){return void 0===e&&(e={}),function(e){if(!e)return"";var n=Object(s.a)(e),t=Object(s.b)("/"+n.path);if(!t.locale)return"";var a=d(t.locale);return"object"==typeof a?a.lang+"-"+a.country:""}(i()(e,"location.pathname"))||Object(o.f)("locale")||"en-US"}},"4yIv":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("q1tI"),r=function(e){var n=Object(a.useRef)();return Object(a.useEffect)((function(){n.current=e})),n.current}},"6+MX":function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));t("+2oP"),t("TWNs"),t("rB9j"),t("JfAA"),t("Rm1S"),t("UxlC"),t("SYor");var a=function(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r=/^(a|b|strong|i|em|span|ul|ol|li|dl|dd|dt|small|sup|sub|font|br|p|h2|h1)$/,i=new RegExp('</?(\\w+)((?:\\s+[\\w-]+="[^"]*")*)\\s?/?>',"i"),o=function(e){return"</"+e+">"},c=function e(n,t){var c=n.match(i);if(!c)return[a(n),""];var s,u,l=c.index,d=a(n.slice(0,l)),p=c[0],g=c[1],f=c[2],m=n.slice(l+p.length);switch(function(e,n){if(!r.test(e))return"INVALID";var t="/"===n.charAt(1),a="/"===n.charAt(n.length-2);return t&&a?"INVALID":t?"CLOSING":a?"SELFCLOSING":"OPENING"}(g,p)){case"OPENING":var y=e(m,g),v=e(y[1],t),b=o(g);return[d+((s=y[0],u=b,s.slice(-u.length)===u)?function(e,n){return"<"+e+function(e){if(void 0===e)return"";var n=e.trim();return n?" "+n:""}(n)+">"}(g,f):"")+y[0]+v[0],v[1]];case"CLOSING":if(g!==t){var h=e(m,t);return[d+h[0],h[1]]}return[d+o(g),m];case"SELFCLOSING":var E=e(m,t);return[d+function(e){return"<"+e+" />"}(g)+E[0],E[1]];case"INVALID":default:var L=e(m,t);return[d+L[0],L[1]]}},s=function(e){return c(e,"")[0]}},"6If0":function(e,n,t){"use strict";t.d(n,"a",(function(){return E})),t.d(n,"b",(function(){return L})),t.d(n,"c",(function(){return S}));t("+2oP");var a=t("q1tI"),r=t.n(a),i=t("lTCR"),o=t.n(i),c=t("rRgP"),s=t("fIYg"),u=t("lN9A"),l=(t("E9XD"),t("rB9j"),t("EnZy"),/({[^{}]+})/);function d(e,n){if(!n)return e;var t=function(e){return e.split(l)}(e);return t.length>1?function(e,n){return e.reduce((function(e,t,a){if(a%2!=0){var r=t.slice(1,-1),i=n[r];return e+(void 0===i?"":i)}return e+t}),"")}(t,n):e}t("ma9I"),t("TeQF"),t("QWBl"),t("LKBx"),t("FZtP");var p=/\|(.*?)\|/;function g(e,n){void 0===n&&(n="");var t=function(e){return e.split(p)}(e);if(1===t.length||!n)return e;var a=[];if(t.forEach((function(e){try{a=[].concat(a,[JSON.parse(e)])}catch(e){return void(a=[].concat(a,[null]))}})),0===a.filter(Boolean).length)return e;try{return function(e,n,t){return e.reduce((function(e,a,r){if(r%2!=0){var i=n[r],o=i?i[t]||i.DEFAULT:null;return o?e+o:e}return e+a}),"")}(t,a,n)}catch(n){return n.message.startsWith("Unknown locale")?n.message+" for "+e:e}}var f=t("opc8");var m=function(e,n,t,a){var r=g(function(e,n){var t=e[n];return t||(f.a.addUndefinedContentId({id:n}),f.a.isNewRelicEnabled&&c.logger.warn("i18n: translate.message returned a raw localization id to user. id: "+n),n)}(e,t),n);return a&&(r=d(r,a)),r};function y(){var e=function(e,n){n||(n=e.slice(0));return e.raw=n,e}(["\n  query TranslationsQuery {\n    translations\n  }\n"]);return y=function(){return e},e}var v=null,b=null,h={t:function(e,n){return v&&b?(c.logger.warn("i18n: defaultContextValue.t function was used. Returned injected value for id: "+e),m(v,b,e,n)):(c.logger.warn("i18n: defaultContextValue.t returned a raw localization id to user. id: "+e),f.a.addUndefinedContentId({id:e}),e)},translations:{}},E=Object(a.createContext)(h),L=E.Consumer,C=o()(y()),O=function(e){var n=e.children,t=e.translations,a=Object(u.a)().country,i={t:m.bind(null,t,a),translations:t};return!v&&t&&(v=t,h.translations=v),!b&&a&&(b=a),r.a.createElement(E.Provider,{value:i},n)};O.defaultProps={translations:{}};var S=function(e){var n=e.children;return r.a.createElement(s.a,{query:C},(function(e){var t=e.data;return t&&t.translations?r.a.createElement(O,{translations:t.translations},n):null}))}},"6ewN":function(e,n,t){"use strict";var a=t("q1tI");n.a=function(e){var n=Object(a.useState)(null),t=n[0],r=n[1];return Object(a.useEffect)((function(){var n=function(e){return r(e.matches)},t=window.matchMedia(e);return n(t),t.addListener(n),function(){return t.removeListener(n)}}),[e]),t}},"7/hW":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("q1tI"),r=t("9pu6"),i=Object(a.createContext)({user:r.a})},"9pu6":function(e,n,t){"use strict";n.a={fetched:!1,email:null,isLid:null,isAdult:!0,isOver13yo:!0,isOver18yo:!0,isVip:!1,age:null,username:null,bazaarvoiceToken:null,canCheckout:!0,cart:null,country:null,vip:null,wishlist:{id:"DEFAULT",items:[],__typename:"Wishlist"},__typename:"LegoUser",features:[]}},"9rz6":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t("07d7"),t("5s+n"),t("rB9j"),t("UxlC");var a=/^https?:\/\//g,r=function(e,n){if(void 0===n&&(n=window),"object"!=typeof document)return Promise.resolve();var t=n.document.body,r=n.document.createElement("iframe");return r.setAttribute("src",function(e){return"https://"+e.replace(a,"")}(e)),r.style.display="none",r.setAttribute("aria-hidden","true"),new Promise((function(e,n){var a=function(){return t.removeChild(r)};r.onload=function(){a(),e()},r.onerror=function(){a(),n(new Error("Failed loading '"+this.src+"'"))},t.appendChild(r)}))}},Bcfq:function(e,n,t){"use strict";t("+2oP"),t("07d7"),t("5s+n");var a=t("xEkU"),r=t.n(a);n.a=function(e){var n,t,a,i=[],o=!1,c=function(){void 0!==a&&(r.a.cancel(a),a=void 0)},s=function(){n=void 0,t=void 0,a=void 0,o=!1},u=function(){var n=i.slice();return i=[],e(n).then(s)};return{unpause:function(){o=!1},enqueue:function(e){return i.push(e),void 0===n&&(n=new Promise((function(e){t=e}))),void 0!==a||o||(a=r()((function(){return u().then(t)}))),n},flush:function(){return c(),void 0===t?Promise.resolve(void 0):u().then(t)},clear:function(){var e=t;i=[],c(),s(),void 0!==e&&e()},delay:function(){c()},pause:function(){o=!0,c()}}}},Cldo:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return o}));t("LKBx");var a=t("NFLX"),r=t("Ty5D"),i=function(e,n){return Object(r.f)(e,n)},o=function(e){if(e){var n=e.startsWith("/")?""+e:"/"+e;return""+a.a.lego.host+n}}},E8wE:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));t("yXV3"),t("tkto");var a=t("q1tI"),r=t.n(a),i=(t("ma9I"),t("E9XD"),t("Qyje")),o=t.n(i),c=t("NFLX"),s=t("Ps6z"),u=function(e){var n=c.a.features;return n?Object.keys(n).reduce((function(t,a){var r,i=e&&e.hasOwnProperty(a)?"string"==typeof(r=e[a])?"true"===r:r:null,o=n[a];return t[a]=null!==i?i:o,t}),{}):{}};var l=Object(a.createContext)({features:{}}),d=function(e){var n,t;function a(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).state={features:u(n.props.featureFlags)},n}t=e,(n=a).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var i=a.prototype;return i.componentDidMount=function(){var e=this.state.features;e&&function(e){var n=Object.keys(e).reduce((function(n,t){return e[t]&&(n[t]=!0),n}),{});Object(s.h)({name:"features",value:o.a.stringify(n)})}(e)},i.render=function(){var e=this.state.features,n=this.props.children;return r.a.createElement(l.Provider,{value:{features:e}},n)},a}(r.a.Component),p=d;l.Consumer;var g=function(e){var n,t;return t=n=function(n){var t,a;function i(){return n.apply(this,arguments)||this}return a=n,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,i.prototype.render=function(){var n=this.props,t=n.featureFlags,a=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(n,["featureFlags"]);return t?r.a.createElement(p,{featureFlags:t},r.a.createElement(e,a)):r.a.createElement(e,this.props)},i}(a.Component),n.displayName="withFeatureFlags(App)",t}},EZmf:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t("EcEN"),r=t.n(a),i=t("Ps6z");function o(){Object(i.f)("UAID")||Object(i.h)({name:"UAID",value:r()(),days:400,secure:!0})}},F64K:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var a=function(e){return!!e&&void 0!==e&&"function"==typeof e.then},r=function(e){return!!e&&void 0!==e&&"function"==typeof e.preload}},GcXS:function(e,n,t){"use strict";t("ma9I"),t("QWBl"),t("2B1R"),t("zKZe"),t("rB9j"),t("FZtP");var a=t("q1tI"),r=t.n(a),i=t("Ty5D"),o=t("1geK"),c=t("Jivp");function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var u=function(e){var n,t;function i(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).unsubscribe=void 0,n.onWillNavigate=function(e){var t,r=n.props,i=r.children,o=r.manager;return a.Children.forEach(i,(function(n){if(void 0===t&&n&&n.props.component){var a=Object.assign({},n.props,{manager:o});t=c.a.onWillNavigate(e,a)}})),t},n}t=e,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=i.prototype;return o.componentDidMount=function(){var e=this.props.manager;this.unsubscribe=e.subscribeAsyncRoute(this.onWillNavigate)},o.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},o.render=function(){var e=this.props,n=e.children,t=e.manager,i=!1,o=a.Children.map(n,(function(e){if(!e)return null;var n=Object.assign({},e.props,{manager:t}),o={};if(!i){var u=c.a.computeMatch(n);i=!!u,o.match=u}return e.props.component?r.a.createElement(c.a,s({},n,{_computed:o})):o.match?Object(a.cloneElement)(e,{computedMatch:o.match}):null}));return r.a.createElement(a.Fragment,null,o)},i}(a.Component);n.a=function(e){var n=e.children;return r.a.createElement(o.a.Consumer,null,(function(e){return e?r.a.createElement(u,{manager:e},n):r.a.createElement(i.d,null,n)}))}},Ifwf:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));t("07d7"),t("5s+n"),t("rB9j"),t("UxlC"),t("TFPT");var a=t("NFLX"),r=t("BOF4"),i=t.n(r),o=t("rRgP"),c=t("gi7Z"),s=function(){return Object(c.a)(a.a.legoId.cookieName)},u=t("9rz6"),l=t("3ACc"),d=t("4EpP"),p=t("IrwC");var g=function(){function e(){this.locale=void 0,this.silentLogin$=void 0,this.token=void 0,this.locale=Object(d.a)("undefined"!=typeof window?window:{}),this.silentLogin$=this.silentLogin(),this.token=s()}e.getInstance=function(){return e.___instance||(e.___instance=new e)};var n=e.prototype;return n.isLoggedIn=function(){return!!this.token},n.getAccessToken=function(){var e=this.token;return e?e.accessToken:void 0},n.getIdToken=function(){var e=this.token;return e?e.idToken:void 0},n.getProfile=function(){var e=this.getIdToken();return e?i()(e):void 0},n.getAvatar=function(e){var n=this.getProfile(),t={src:e};if(n){var r=a.a.legoId.avatar.replace(/{userId}/,n.sub),i=new Image;return i.src=r,i.onerror=function(){e&&(i.src=e)},i}return t},n.editProfile=function(e,n){window.location=Object(p.a)(e,{type:"REDIRECT",returnUrl:n})},n.login=function(e,n){window.location=Object(p.b)(e,{type:"REDIRECT",returnUrl:n})},n.silentLogin=function(e){try{var n=this;return void 0===e&&(e=n.locale||"en-US"),Object(l.a)(e)?n.silentLogin$?Promise.resolve(n.silentLogin$):(n.silentLogin$=n._silentLogin(e),Promise.resolve(function(e,n){try{var t=e()}catch(e){return n(e)}return t&&t.then?t.then(void 0,n):t}((function(){return Promise.resolve(n.silentLogin$).then((function(e){return n.silentLogin$=void 0,e}))}),(function(){return n.silentLogin$=void 0,!0})))):Promise.resolve(!1)}catch(e){return Promise.reject(e)}},n._silentLogin=function(e){void 0===e&&(e="en-US");try{var n=this;0,n.token=s();var t=n.getProfile(),a=Object(p.e)(e);return Promise.resolve(Object(u.a)(a).catch((function(e){o.logger.error({err:e},"[LegoIdClient]")}))).then((function(){n.loadBrowserToken();var e=n.getProfile();return n.hasUserChanged(t,e)}))}catch(e){return Promise.reject(e)}},n.hasUserChanged=function(e,n){return!(!e&&!n)&&(e&&e.sub)!==(n&&n.sub)},n.loadBrowserToken=function(){this.token=s()},n.clearSession=function(){Object(c.c)(a.a.legoId.cookieName)},n.logoutLogin=function(e,n){window.location=Object(p.c)(e,{type:"REDIRECT",returnUrl:Object(p.b)(e,{type:"REDIRECT",returnUrl:n})},this.getIdToken())},n.logout=function(e,n){window.location=Object(p.c)(e,{type:"REDIRECT",returnUrl:n},this.getIdToken())},n.register=function(e,n){window.location=Object(p.d)(e,{type:"REDIRECT",returnUrl:n})},e}();g.___instance=void 0},IrwC:function(e,n,t){"use strict";t.d(n,"b",(function(){return m})),t.d(n,"e",(function(){return y})),t.d(n,"d",(function(){return v})),t.d(n,"a",(function(){return b})),t.d(n,"c",(function(){return h}));t("yXV3"),t("zKZe"),t("rB9j"),t("hByQ");var a=t("NFLX"),r=t("QkVN"),i=t.n(r),o=t("4b23"),c=t.n(o),s=t("skmB"),u=t.n(s),l=t("Qyje"),d=t.n(l),p=t("Ps6z"),g=function(e){if(e.type){var n=c()(16);return Object(p.h)({name:n,value:window.btoa(JSON.stringify(e)),expires:new Date(Date.now()+9e5),maxAge:900,domain:".lego.com"}),n}};function f(e,n){var t,r=n.locale,o=n.state,s=n.query,u=Object.assign({},o);o&&"SILENT"!==o.type&&((null==(t=o.returnUrl)?void 0:t.indexOf(a.a.legoId.host))>-1?u.returnUrl=o.returnUrl:u.returnUrl=a.a.lego.host+o.returnUrl);a.a.legoId.useHandler||(u.host=window.location.origin);var l=function(e,n){void 0===n&&(n={});var t=a.a.legoId.urls[e];return i()({host:a.a.legoId.host,protocol:a.a.legoId.protocol},t,n)}(e,{query:Object.assign({client_id:a.a.legoId.clientId,redirect_uri:a.a.legoId.useHandler?a.a.lego.host+a.a.legoId.returnUrl:a.a.legoId.returnUrl,ui_locales:r,state:g(u),nonce:c()(16)},s)}),p=l.query,f=void 0===p?{}:p;return l.search=d.a.stringify(f,{format:"RFC1738"}),l}function m(e,n){var t=f("login",{locale:e,state:n});return u.a.format(t)}function y(e){var n=f("login",{locale:e,state:{type:"SILENT"}});return u.a.format(n)+"&prompt=none"}function v(e,n){var t=f("register",{locale:e,state:n});return u.a.format(t)}function b(e,n){var t=f("editProfile",{locale:e,state:n});return t.pathname=e+t.pathname,u.a.format(t)}function h(e,n,t){var r=f("logout",{locale:e,state:n,query:{id_token_hint:t,redirect_uri:void 0,post_logout_redirect_uri:a.a.lego.host+a.a.legoId.returnUrl}});return u.a.format(r)}},Jivp:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));t("ma9I"),t("yXV3"),t("zKZe"),t("tkto"),t("rB9j"),t("Rm1S");var a=t("q1tI"),r=t.n(a),i=t("17x9"),o=t.n(i),c=t("Ty5D"),s=t("2mql"),u=t.n(s),l=t("1geK"),d=t("F64K");function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function g(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var f=function(e,n){var t=n.manager.router;return Object(c.g)(e,function(e){return{path:e.path||e.from,strict:e.strict||!1,exact:e.exact||!1,sensitive:e.sensitive||!1}}(n),t.route.match)},m=function(e){function n(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={match:n.computeMatch(t.props)},t.unsubscribe=void 0,t.onWillNavigate=function(e){if(!t.props._computed)return n.onWillNavigate(e,t.props)},t}g(n,e),n.computeMatch=function(e){if(e.computedMatch)return e.computedMatch;if(e._computed)return e._computed.match;var n=e.manager.router.route.location.pathname;return f(n,e)},n.onWillNavigate=function(e,n){var t=n.component;if(f(e,n)&&Object(d.b)(t)){var a=t;return a.preloadWeak()?void 0:a.preload()}},n.getDerivedStateFromProps=function(e){return{match:n.computeMatch(e)}};var t=n.prototype;return t.componentDidMount=function(){var e=this.props.manager;this.unsubscribe=e.subscribeAsyncRoute(this.onWillNavigate)},t.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.getChildContext=function(){var e=this.props.manager.router;return{router:Object.assign({},e,{route:Object.assign({},e.route,{match:this.state.match})})}},t.render=function(){var e=this.props,n=e.manager,t=e.component,a=e.children,i=this.state.match;if(!i)return null;var o=Object.assign({match:i,location:n.router.route.location,history:n.router.history},i.params||{});return t?r.a.createElement(t,o):a?a(o):null},n}(a.Component);m.childContextTypes={router:o.a.object.isRequired};var y=function(e){function n(){return e.apply(this,arguments)||this}return g(n,e),n.prototype.render=function(){var e=this;return r.a.createElement(l.a.Consumer,null,(function(n){if(n)return r.a.createElement(m,p({},e.props,{manager:n}));var t=e.props,a=t.component,i=t.children,o=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(t,["component","children"]);return r.a.createElement(c.b,p({},o,{render:function(e){return a?r.a.createElement(a,p({},e,e.match.params)):i?i(Object.assign({},e,e.match.params)):null}}))}))},n}(a.Component);n.b=u()(y,m)},Lka4:function(e,n,t){"use strict";t("ma9I");var a=t("q1tI"),r=t.n(a),i=t("vOnD"),o=t("1geK");var c=Object(i.e)(["\n  0% {\n    width: 12%;\n  }\n\n  100% {\n    width: 85%;\n  }\n"]),s=Object(i.c)(["\n  transition: width 0.4s ease;\n  width: 12%;\n  animation: "," 12s linear 0.3s 1;\n  animation-fill-mode: forwards;\n"],c),u=Object(i.c)(["\n  transition: width 2s ease, opacity 2s ease;\n  width: 100%;\n  opacity: 0;\n"]),l=i.d.div.withConfig({displayName:"ProgressIndicator__Bar",componentId:"sc-54l6wj-0"})(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 3px;\n  pointer-events: none;\n  background: #31a1e0;\n  box-shadow: 0 -2px 10px #31a1e0;\n  width: 0;\n  opacity: 1;\n  z-index: 99999;\n\n  ",";\n  ",";\n"],(function(e){return"ENTER"===e.loading&&s}),(function(e){return"EXIT"===e.loading&&u})),d=function(e){var n,t;function a(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).state={loading:null},n.timeoutId=void 0,n.cancel=function(){n.timeoutId&&(clearTimeout(n.timeoutId),n.timeoutId=null)},n.enter=function(){n.cancel(),n.timeoutId=setTimeout((function(){n.props.isLoading&&(n.setState({loading:"ENTER"}),n.timeoutId=null)}),200)},n.onTransitionEnd=function(){"EXIT"===n.state.loading&&n.setState({loading:null})},n}t=e,(n=a).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var i=a.prototype;return i.componentDidUpdate=function(e){!e.isLoading&&this.props.isLoading?this.enter():e.isLoading&&!this.props.isLoading&&(this.cancel(),this.setState({loading:"ENTER"===this.state.loading?"EXIT":null}))},i.componentWillUnmount=function(){this.cancel()},i.render=function(){return r.a.createElement(l,{loading:this.state.loading,onTransitionEnd:this.onTransitionEnd})},a}(a.Component);n.a=function(){return r.a.createElement(o.a.Consumer,null,(function(e){return r.a.createElement(d,{isLoading:!!e&&!!e.isLoading})}))}},"OL+5":function(e,n,t){"use strict";t.d(n,"a",(function(){return T}));t("ma9I"),t("yXV3"),t("tkto");var a=t("q1tI"),r=t.n(a),i=t("lqOT"),o=(t("TeQF"),t("dMq0")),c=t("1jQf"),s=t("R44f"),u=t("wsNJ"),l=(t("rRgP"),t("NFLX")),d=(t("x0AG"),t("pDQq"),t("b0dj")),p=(t("fbCW"),t("4mDm"),t("oVuX"),t("2B1R"),t("sMBO"),t("07d7"),t("3bBZ"),t("L2ys"));var g,f=function(e){var n,t;function a(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).opQueues={},n.enqueue=function(e,t){n.opQueues[e]||(n.opQueues[e]=[]),n.opQueues[e].push(t),1===n.opQueues[e].length&&n.startFirstOpIfNotStarted(e)},n.cancelOp=function(e,t){if(n.opQueues[e]){var a=n.opQueues[e].findIndex((function(e){return t===e}));if(a>=0){var r=n.opQueues[e][a];r.subscription&&r.subscription.unsubscribe(),n.opQueues[e].splice(a,1)}n.startFirstOpIfNotStarted(e)}},n.startFirstOpIfNotStarted=function(e){if(0!==n.opQueues[e].length){var t=n.opQueues[e][0],a=t.operation,r=t.forward,i=t.observer;t.subscription||(n.opQueues[e][0].subscription=r(a).subscribe({next:function(e){return i.next&&i.next(e)},error:function(e){i.error&&i.error(e)},complete:function(){i.complete&&i.complete()}}))}else delete n.opQueues[e]},n}return t=e,(n=a).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,a.prototype.request=function(e,n){var t=this,a=function(e){var n,t=Object(p.b)(e.query,{Directive:function(e){if("serialize"===e.name.value&&e.arguments){var t=e.arguments.find((function(e){return"key"===e.name.value}));return t&&"ArgumentNode"===t.kind&&(n=t.value.values.map((function(e){return e.value})).join(".")),null}}});return e.query=t,n}(e);return a?new d.b((function(r){var i={operation:e,forward:n,observer:r};return t.enqueue(a,i),function(){t.cancelOp(a,i)}})):n(e)},a}(c.a),m=t("Qyje"),y=t.n(m),v=function(e){var n=e.locale,t=e.featureFlags,a=e.sessionCookie,r=e.userAgent,i=e.referer,o={"x-locale":n};return t&&(o.features=y.a.stringify(t)),a&&(o["session-cookie-id"]=a),r&&(o["user-agent"]=r),i&&(o.referer=i),o},b=t("K/JX"),h={__schema:{types:[{kind:"UNION",name:"Suggestion",possibleTypes:[{name:"SearchSuggestion"},{name:"MultiVariantProduct"},{name:"SingleVariantProduct"},{name:"ReadOnlyProduct"}]},{kind:"INTERFACE",name:"Product",possibleTypes:[{name:"MultiVariantProduct"},{name:"SingleVariantProduct"},{name:"ReadOnlyProduct"}]},{kind:"INTERFACE",name:"Scene7Media",possibleTypes:[{name:"Scene7SpinSet"},{name:"Scene7Image"},{name:"Scene7VideoSet"},{name:"Scene7Video"}]},{kind:"INTERFACE",name:"ContentSection",possibleTypes:[{name:"BreadcrumbSection"},{name:"CategoryIndexSection"},{name:"CategoryListingSection"},{name:"ListingBannerSection"},{name:"CardContentSection"},{name:"CardCarouselSection"},{name:"CopyContentSection"},{name:"BasicProductSection"},{name:"DisruptorProductSection"},{name:"CountdownProductSection"},{name:"DummySection"},{name:"CopySection"},{name:"QuickLinkSection"},{name:"ContentBlockMixed"},{name:"CustomProductCarouselSection"},{name:"ProductCarouselSection"},{name:"HeroBanner"},{name:"MotionBanner"},{name:"MotionSidekick"},{name:"MotionSidekick1x1"},{name:"Gallery"},{name:"SidekickBanner"},{name:"TableSection"},{name:"TargetedSection"},{name:"CrowdTwistWidgetSection"},{name:"CodedSection"},{name:"SplitTestingSection"},{name:"LayoutSection"},{name:"GlobalBannerSection"},{name:"RecommendationSection"},{name:"AccordionSection"},{name:"CartMessageSection"},{name:"TextBlock"},{name:"TextBlockSEO"},{name:"InPageNav"},{name:"CountdownBanner"},{name:"UserGeneratedContent"},{name:"GridSection"},{name:"StickyCTASection"},{name:"AudioSection"},{name:"ImageTransitionSlider"},{name:"PollsSection"},{name:"ArtNavigation"},{name:"MotionBanner16x9"},{name:"QuickLinkAdvancedSection"},{name:"ArticleSection"},{name:"RelatedArticleSection"},{name:"BreadcrumbEntry"},{name:"CategoryIndex"},{name:"CategoryIndexEntry"},{name:"CategoryListingEntry"},{name:"ProductCarouselEntry"},{name:"ProductListingEntry"},{name:"TargetedEntry"},{name:"TableEntry"},{name:"ListingBannerEntry"},{name:"HeroBannerEntry"},{name:"GalleryEntry"},{name:"CardContentEntry"},{name:"CopyContentEntry"},{name:"MixedBlockEntry"},{name:"CopyBlockEntry"},{name:"QuickLinkEntry"}]},{kind:"INTERFACE",name:"ProductMedia",possibleTypes:[{name:"ProductImage"},{name:"ProductVideo"}]},{kind:"INTERFACE",name:"CommonAttributes",possibleTypes:[{name:"ProductAttributes"},{name:"ElementAttributes"}]},{kind:"UNION",name:"SearchResult",possibleTypes:[{name:"ProductSearchResults"},{name:"RedirectAction"}]},{kind:"INTERFACE",name:"FacetLabel",possibleTypes:[{name:"FacetValue"},{name:"FacetRange"}]},{kind:"UNION",name:"ContentstackTarget",possibleTypes:[{name:"ContentTarget"},{name:"ExternalTarget"}]},{kind:"INTERFACE",name:"CartLineItem",possibleTypes:[{name:"StandardCartLineItem"},{name:"BAPCartLineItem"},{name:"CustomCartLineItem"}]},{kind:"INTERFACE",name:"Element",possibleTypes:[{name:"SingleVariantElement"},{name:"MultiVariantElement"}]},{kind:"INTERFACE",name:"WishlistItem",possibleTypes:[{name:"LegoWishlistItem"}]},{kind:"UNION",name:"VipData",possibleTypes:[{name:"VipRedirectUrl"},{name:"VipProfile"}]},{kind:"UNION",name:"AdyenPaymentAction",possibleTypes:[{name:"ThreeDSAction"},{name:"ThreeDSTwoAction"}]},{kind:"INTERFACE",name:"DynamicContentBaseData",possibleTypes:[{name:"CategoryIndexChildren"},{name:"CategoryListingSection"},{name:"CategoryListingChildren"},{name:"ListingBannerSection"},{name:"CategoryChildren"},{name:"CategoryBannerChildren"}]},{kind:"INTERFACE",name:"ProductSection",possibleTypes:[{name:"BasicProductSection"},{name:"DisruptorProductSection"},{name:"CountdownProductSection"}]}]}},E=function(){var e={resultCaching:!0,fragmentMatcher:new b.b({introspectionQueryResultData:h}),dataIdFromObject:function(e){switch(e.__typename){case"Facet":return null;case"PABCart":return e.__typename;case"Address":return"string"==typeof e.id?Object(b.c)(e):null;case"LegoUser":return"me";case"CustomCartLineItem":case"StandardCartLineItem":case"BAPCartLineItem":return"CartLineItem:"+e.id;default:return Object(b.c)(e)}}};return new b.a(e)},L=t("mj97"),C=function(e){var n=e.cache,t=void 0===n?E():n,a=e.featureFlags,r=e.locale,i=e.sessionCookie,d=e.appLinks,p=e.userAgent,g=e.referer,m=!!l.a.gateway.enableCors;var y=l.a.gateway.url,b=[new f,Object(u.a)((function(){return{locale:r,headers:v({locale:r,featureFlags:a,sessionCookie:i,userAgent:p,referer:g}),featureFlags:a}}))].concat(d||[],[Object(s.a)({uri:y,fetch:L.a,fetchOptions:{mode:m?"cors":"same-origin",credentials:"omit"}})]).filter((function(e){return!!e}));return new o.a({connectToDevTools:!1,ssrMode:!1,link:c.a.from(b),cache:t})};var O=function(e,n){var t,a;if(e.apolloCache)t=e.apolloCache;else{if(!e.apolloState)return;t=E().restore(e.apolloState.data)}return a={userAgent:e.userAgent,cache:t,featureFlags:e.featureFlags,locale:e.apolloLocale||"",referer:e.referer||"",sessionCookie:e.sessionCookie,appLinks:n.links?n.links({featureFlags:e.featureFlags}):[]},void 0===g&&(g=C(a)),g},S={links:function(){return[]}},T=function(e,n){var t,o;return void 0===n&&(n=S),o=t=function(t){var a,o;function c(){for(var e,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).apolloClient=O(e.props,n),e}return o=t,(a=c).prototype=Object.create(o.prototype),a.prototype.constructor=a,a.__proto__=o,c.prototype.render=function(){if(!this.apolloClient)return r.a.createElement(e,this.props);var n=this.props,t=(n.apolloCache,n.apolloState,n.apolloLocale,function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(n,["apolloCache","apolloState","apolloLocale"]));return r.a.createElement(i.b,{client:this.apolloClient},r.a.createElement(e,t))},c}(a.Component),t.displayName="withApollo(App)",o}},"Rbp/":function(e,n,t){"use strict";t.d(n,"a",(function(){return C}));t("piMb"),t("zKZe");var a=t("q1tI"),r=t.n(a),i=t("Ps6z"),o=t("NFLX"),c=t("qnxR"),s=t("uVGu"),u=(t("QWBl"),t("yq1k"),t("+2oP"),t("sMBO"),t("07d7"),t("5s+n"),t("JTJg"),t("2A+d"),t("TFPT"),t("FZtP"),t("mj97")),l=t("vLYE");function d(){var e=g(["\n        mutation VipLogin($input: VipProfileInput!) {\n          vipLogin(input: $input) {\n            ...vipActionFields\n          }\n        }\n\n        ","\n      "]);return d=function(){return e},e}function p(){var e=g(["\n    fragment vipActionFields on VipAction {\n      status\n      data {\n        ... on VipRedirectUrl {\n          url\n          cookies {\n            name\n            value\n            maxAge\n            path\n            domain\n            expires\n            sameSite\n          }\n        }\n      }\n    }\n  "]);return p=function(){return e},e}function g(e,n){return n||(n=e.slice(0)),e.raw=n,e}var f=t("Ifwf").a.getInstance(),m=String.raw,y=t("9pu6"),v=t("7/hW"),b=t("aw9s"),h=t("lTCR");function E(){var e=function(e,n){n||(n=e.slice(0));return e.raw=n,e}(['\n  query UserQueryExternal @serialize(key: ["Cart"]) {\n    me {\n      ...UserQueryExternal_User\n\n      wishlist {\n        ...UserQueryExternal_Wishlist\n      }\n\n      ... on LegoUser {\n        cart {\n          ...UserQueryExternal_Cart\n        }\n      }\n    }\n  }\n\n  fragment UserQueryExternal_User on LegoUser {\n    username\n    country\n    age\n    isVip\n    isOver13yo\n    isOver18yo\n    isAdult\n    isLid\n    vip {\n      redeemablePoints\n      redeemableValue {\n        formattedAmount\n      }\n      pointsToNextTier\n    }\n    features\n  }\n\n  fragment UserQueryExternal_Cart on Cart {\n    id\n    totalLineItems\n    lineItems {\n      ...UserQueryExternal_CartLineItem\n    }\n  }\n\n  fragment UserQueryExternal_CartLineItem on CartLineItem {\n    id\n    quantity\n  }\n\n  fragment UserQueryExternal_Wishlist on Wishlist {\n    id\n    items {\n      id\n    }\n  }\n']);return E=function(){return e},e}var L=t.n(h)()(E()),C=function(e){var n,t=e.children,g=e.external,h=Object(c.a)(),E=Object(a.useState)({}),C=E[0],O=E[1],S=function(){n&&(n.unsubscribe(),n=void 0);var e=h.watchQuery({fetchPolicy:"cache-and-network",query:g?L:b.a,errorPolicy:"all",ssr:!1});n=e.subscribe((function(e){e.data&&!e.errors&&(O(Object.assign({},e.data,{state:!(e.loading||!e.data)})),e.data.me&&e.data.me.isVip&&!o.a.crowdtwist.cookies.every(i.f)&&function(){try{var e,n=f.getProfile();if(!n)return Promise.resolve(null);var t=((e={Authorization:Object(i.f)("gqauth"),"x-locale":Object(i.f)("locale")||"en-US"})[l.a]=Object(l.c)("core-auth"),e),a={id:n.sub,idType:"LEGOID_PUID"},r=m(p());Promise.resolve(Object(u.a)(o.a.gateway.url,{method:"POST",mode:"cors",headers:Object.assign({"Content-Type":"application/json"},t),body:JSON.stringify({operationName:"VipLogin",query:m(d(),r),variables:{input:a}}),credentials:"omit"})).then((function(e){if(!e.ok)throw new Error("Error communicating with CrowdTwist.");return Promise.resolve(e.json()).then((function(e){var n=e.data;if(!n)throw new Error("Could not log the user in.");if(n.vipLogin&&"NOT_FOUND"===n.vipLogin.status)return null;n.vipLogin&&n.vipLogin.data.cookies.forEach((function(e){o.a.crowdtwist.cookies.includes(e.name)&&!Object(i.f)(e.name)&&Object(i.h)({name:e.name,value:e.value,path:e.path,domain:e.domain,expires:new Date(e.expires),secure:!0,maxAge:e.maxAge,sameSite:e.sameSite})}))}))}))}catch(e){return Promise.reject(e)}}())}))};Object(s.a)((function(){return S(),function(){n&&n.unsubscribe()}}));var T=C&&C.me?Object.assign({},C.me,{fetched:C.state}):y.a;return r.a.createElement(v.a.Provider,{value:{user:T}},t)}},XHlK:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t("sMBO");var a=t("w6Sm"),r=t("opc8");function i(){var e;(e=function(e){var n=e.name,t=e.value,a=e.id,i={action:n,value:Math.round("CLS"===n?1e3*t:t),id:a};r.a.addPageAction("web-vital",i)})&&e instanceof Function&&(Object(a.a)(e),Object(a.c)(e),Object(a.b)(e),Object(a.d)(e),Object(a.e)(e))}},aw9s:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return u}));t("+2oP");var a=t("lTCR"),r=t.n(a);function i(){var e=c(['\n  query UserQuery @serialize(key: ["Cart"]) {\n    me {\n      ...UserQuery_User\n\n      wishlist {\n        ...UserQuery_Wishlist\n      }\n\n      vip {\n        ...UserQuery_Vip\n      }\n\n      ... on LegoUser {\n        cart {\n          ...UserQuery_Cart\n        }\n      }\n    }\n  }\n\n  ',"\n\n  fragment UserQuery_User on LegoUser {\n    email\n    username\n    bazaarvoiceToken\n    country\n    age\n    canCheckout\n    isVip\n    isOver13yo\n    isOver18yo\n    isAdult\n    isLid\n    features\n  }\n\n  fragment UserQuery_Cart on Cart {\n    id\n    totalLineItems\n    lineItems {\n      ...UserQuery_CartLineItem\n    }\n  }\n\n  fragment UserQuery_CartLineItem on CartLineItem {\n    id\n    quantity\n    lineItemMode\n    totalPrice {\n      formattedValue\n    }\n    product {\n      productCode\n    }\n    productVariant {\n      id\n      sku\n      price {\n        formattedAmount\n        formattedValue\n      }\n    }\n  }\n\n  fragment UserQuery_Wishlist on Wishlist {\n    id\n    items {\n      id\n      product {\n        id\n        productCode\n      }\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=c(["\n  fragment UserQuery_Vip on Vip {\n    id\n    firstName\n    lastName\n    redeemablePoints\n    redeemableValue {\n      formattedAmount\n    }\n    totalPoints\n    pointsToNextTier\n    vipNumber\n    country\n    segmented\n    language\n    isActive\n    advancedAnalytics\n    emailUpdatePreference\n    termsAccepted\n  }\n"]);return o=function(){return e},e}function c(e,n){return n||(n=e.slice(0)),e.raw=n,e}var s=r()(o()),u=r()(i(),s)},bgwf:function(e,n,t){"use strict";var a=t("q1tI"),r=t.n(a),i=t("NFLX"),o=t("skmB"),c=t.n(o),s=t("lN9A"),u=t("3ACc"),l=c.a.format({protocol:i.a.legoId.protocol,host:i.a.legoId.host,pathname:"/connect/checksession"}),d=i.a.legoId.opiframeId;n.a=function(){var e=Object(s.a)().locale;return Object(u.a)(e)?r.a.createElement("div",{style:{display:"none"}},r.a.createElement("iframe",{title:"RP",id:"rp",src:"/identity/rpiframe"}),r.a.createElement("iframe",{title:"OP",id:d,src:l})):null}},bwA8:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return s}));var a=t("q1tI"),r=t("DzJC"),i=t.n(r),o=t("o6BI");function c(){return{x:window.scrollX||window.pageXOffset,y:window.scrollY||window.pageYOffset}}var s=function(e,n,t){void 0===n&&(n=0),void 0===t&&(t=[]);var r=Object(a.useRef)(c()),s=function(){var n=c(),t=n.y===r.current.y?"none":n.y<r.current.y?"up":"down";e({prevPos:r.current,currPos:n,direction:t}),r.current=n};Object(o.a)((function(){s()}),t),Object(o.a)((function(){var e=i()(s,n);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}))}},"c/gA":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("q1tI"),r=t("7/hW"),i=function(){return Object(a.useContext)(r.a).user}},ejwH:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}));t("yq1k"),t("TWNs"),t("rB9j"),t("JfAA"),t("JTJg"),t("UxlC");var a=function(e){if(e&&e.includes("Star Wars")){var n=new RegExp("<\\s*[^>]*>Star Wars<\\s*[^>]*>","g"),t=new RegExp("Star Wars","g");return e.replace(n,"Star&nbsp;Wars").replace(t,"Star&nbsp;Wars")}return e},r=function(e){if(e&&(e.includes("Star Wars")||e.includes("Star&nbsp;Wars"))){var n=a(e),t=new RegExp("Star&nbsp;Wars","g");return n.replace(t,"<i>Star&nbsp;Wars</i>")}return e}},fIYg:function(e,n,t){"use strict";t("yXV3"),t("zKZe"),t("tkto");var a=t("q1tI"),r=t("ttZb");n.a=function(e){var n=e.children,t=e.query,i=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,["children","query"]),o=Object(a.useState)(i.fetchPolicy||"cache-first"),c=o[0],s=o[1];return n(Object(r.d)(t,Object.assign({},i,{fetchPolicy:c,onCompleted:function(e){"standby"!==c&&e&&"object"==typeof e&&Object.keys(e).length&&s("standby"),i.onCompleted&&i.onCompleted(e)}})))}},fkAo:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return d}));t("zKZe"),t("rB9j"),t("Rm1S"),t("UxlC"),t("hByQ"),t("EnZy");var a=/^\/([a-z]{2}-[A-Za-z]{2})\/(.*)/,r=/^\/([a-z]{2}-[A-Za-z]{2})$/,i=/\/\/{2,}/g,o=/\/$/g,c=/^\//g,s=function(e){return e.replace(i,"/").replace(o,"").replace(c,"")},u=function(e){if(!e||"/"===e)return{path:"",search:""};var n=e.split("?"),t=n[0],a=n[1];return{path:s(t),search:a||""}},l=function(e){var n=e.match(a);return n?Object.assign({locale:n[1]},u(n[2])):(n=e.match(r))?{locale:n[1],path:"",search:""}:Object.assign({locale:""},u(e))},d=function(e){return""+(e.locale?"/"+e.locale:"/en-us")+(e.path?"/"+e.path:"")+(e.search?"?"+e.search:"")+(e.hash||"")}},hyr1:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t("NFLX"),r=t("Ps6z"),i=a.a.campaignTracking.cookieName;function o(e){Object(r.h)({name:i,value:e,secure:!0})}},lN9A:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));t("+2oP"),t("zKZe"),t("rB9j"),t("hByQ");var a=t("q1tI"),r=t("1geK"),i=t("4EpP"),o=t("fkAo"),c=t("s3ei"),s=function(e){return function(n){var t,a,r;"string"==typeof n?t=n:(t=n.pathname,r=n.hash,a=Object.assign({},n.query,n.search?Object(c.a)(n.search):null));var i=Object(o.b)(t);return i.locale||(i.locale=e),void 0!==a&&(i.search=Object(c.b)(Object.assign({},a,i.search?Object(c.a)(i.search):null))),void 0!==r&&(i.hash=r),Object(o.c)(i)}},u=function(){var e=Object(a.useContext)(r.a);if(e){var n=e.router.route,t=e.router.history,c=Object(o.b)(n.location.pathname).locale,u=Object(i.c)(c),l=u.lang,d=u.country,p=s(c),g=function(e){return function(n){var t=n.search||"";return"?"===t.charAt(0)&&(t=t.slice(1)),s(e)(Object.assign({},n,{pathname:n.pathname||"",search:t,hash:n.hash||""}))}}(c);return Object.assign({},t,{findLastLocation:t.findLastLocation,getPreviousPathname:t.getPreviousPathname,location:t.location,route:n.location.pathname,pathname:n.location.pathname,query:n.location.query,key:n.location.key,search:n.location.search,path:n.location.info.path,hash:n.location.hash,isLoading:e.isLoading,locale:c,format:p,lang:l,country:d,createHref:g})}return{}}},m3ks:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o}));t("E9XD"),t("zKZe"),t("3KgV"),t("tkto");var a="/page/static",r="/stores",i=Object.freeze({ACCOUNT_WISHLIST:"/account/wishlist",GIFT_CARDS:a+"/gift-cards",GIFT_CARDS_GIVE:a+"/gift-cards/give",GIFT_CARDS_GIVE_ELECTRONIC:a+"/gift-cards/give/electronic",GIFT_CARDS_GIVE_PHYSICAL:a+"/gift-cards/give/physical",GIFT_CARDS_BALANCE:a+"/gift-cards/balance",GIFT_CARDS_REDEEM:a+"/gift-cards/redeem",GIFT_CARDS_RELOAD:a+"/gift-cards/reload",EXTERNAL_LINE_ITEM:a+"/external-line-item",PICK_A_BRICK:a+"/Pick-a-Brick",HOME:"/",ACCOUNT:"/my-account",ACCOUNT_ORDERS:"/my-account/orders",ACCOUNT_DETAILS:"/my-account/details",ACCOUNT_SIGN_IN:"/my-account/sign-in",ACCOUNT_CONTACT_PREFERENCES_GUEST:"/my-account/contact/guest",CART:"/cart",CHECKOUT:"/checkout",ORDER_SUBMITTING:"/checkout/order-submitting/:orderNumber",ORDER_CONFIRMATION:a+"/order-confirmation/:orderId",ORDER_CANCELLED:"/checkout/order-cancelled",PRODUCT:"/product/:slug",VIP:"/vip",VIP_ACCOUNT:"/vip/rewards-center/account",VIP_EXPIRED:"/vip/expired",VIP_REWARDS_CENTER:"/vip/rewards-center",VIP_EMAIL_VERIFICATION:"/vip/email-verification",VIP_JOIN:"/vip/join",VIP_REGISTER:"/vip/register",VIP_REGISTER_CARD:"/vip/registercard",VIP_MAINTENANCE:"/vip/maintenance",VIP_NOT_FOUND:"/vip/notfound",EMAIL_SUBSCRIPTION:a+"/subscribe",VIP_UNDERAGE:"/vip/underage",CHECK_ORDER_STATUS:a+"/orders",CHECK_ORDER:a+"/orders/:orderNumber",TRACK_AND_TRACE:a+"/orders/tracking/:orderNumber",RETURNS_STATUS:a+"/orders/returns/status/:orderNumber/:returnNumber",RETURNS_CONFIRMATION:a+"/orders/returns/confirmation/:orderNumber",RETURNS_ERROR:a+"/orders/returns/error/:orderNumber",RETURNS:a+"/orders/returns/:orderNumber",SEARCH:"/search",SEARCH_PLAY:"/search/play",BRICKS_AND_PIECES:"/customization/csp.jsp",CATALOGUES:a+"/catalogues",CATALOGUE_REQUEST:a+"/catalogue-request",COOKIE_SETTINGS:"/legal/cookies/cookie-settings",SUBSCRIBE:a+"/subscribe",SUBSCRIBE_CONFIRMATION:a+"/subscribe/confirmation",MINIBUILDS:a+"/MiniBuilds",DYNAMIC_PAGE:"",DYNAMIC_PAGE_CATEGORY:"/category/:slug",DYNAMIC_PAGE_PAGE:"/page/:slug",DYNAMIC_PAGE_THEME:"/(themes|categories)/*",DYNAMIC_PAGE_SEO:"/:seo*",WISHLIST:"/account/wishlist",SHIPPING_HANDLING:"/page/Shipping-Handling",SERVICE:"/service",HELP:"/service/help",REPLACEMENT_PARTS:"/service/replacementparts",TERMS_AND_CONDITIONS:"/Terms-And-Conditions",EMAIL_NOTIFICATION_UNSUBSCRIBE:a+"/email-notification-unsubscribe",GIFT_FINDER:"/gift-finder/:campaign",SIZE_GUIDE:"/page/size-guide",STORES:r,STORES_DIRECTORY:r+"/directory",STORE_DETAILS:r+"/store/:urlKey",STORE_SEARCH_RESULTS:r+"/search-results",STORE_EVENT_DETAIL:r+"/events/:urlKey",MOSAIC_MAKER:"/mosaic-maker",MOSAIC_MAKER_PRODUCT:"/product?p=40179",MOSAIC_MAKER_STORE:r+"/store/:urlKey"}),o=Object.keys(i).reduce((function(e,n){var t;return Object.assign({},e,((t={})[n]="/:locale"+i[n],t))}),{})},m4Mt:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("q1tI"),r=t("6If0"),i=function(){return Object(a.useContext)(r.a).t}},mJdZ:function(e,n,t){"use strict";t.d(n,"d",(function(){return v})),t.d(n,"a",(function(){return O})),t.d(n,"c",(function(){return i.a})),t.d(n,"b",(function(){return x})),t.d(n,"e",(function(){return f})),t.d(n,"f",(function(){return V}));var a=t("q1tI"),r=t.n(a),i=t("viki"),o=function(){return{consentChecker:Object(a.useCallback)((function(e){return Object(i.a)(e)}),[])}},c=(t("+2oP"),t("lTCR")),s=t.n(c),u=t("ttZb"),l=t("rRgP"),d=t("MTJR"),p={headerNavTrigger:function(){},ageGateShownTrigger:function(){},regionSelectorTrigger:function(){},errorTrigger:function(){},triggerEvent:function(){},addFunctionalTrigger:function(){},addReMarketingTrigger:function(){}},g=Object(a.createContext)(p),f=function(){return Object(a.useContext)(g)};function m(){var e=function(e,n){n||(n=e.slice(0));return e.raw=n,e}(["\n  query ExperimentVariation($experimentId: String!) {\n    experimentVariation(experimentId: $experimentId)\n  }\n"]);return m=function(){return e},e}var y=s()(m()),v=function(e){var n=Object(a.useState)(null),t=n[0],r=n[1],i=(0,o().consentChecker)("optimizely"),c=f().triggerEvent,s=Object(d.d)(),p=Object(u.d)(y,{variables:{experimentId:e},fetchPolicy:"cache-first",onCompleted:function(e){e&&e.experimentVariation&&r(e.experimentVariation)},skip:!i}),g=p.data,m=p.error;return Object(a.useEffect)((function(){t&&e&&(c({label:"abTest",eventType:["dataLayer"],data:{experimentID:{variant_id:t,id:e}}}),null==s||s.updateOptimizelyMetaData({variant:t,experimentId:e}))}),[t,e,c,s]),m?(l.logger.error({err:m},"Error fetching query result"),null):e&&g?t:null},b=t("NFLX"),h=t("vftj"),E=t.n(h),L=t("c/gA"),C=t("rVss"),O=function(){var e=b.a.nps&&b.a.nps.url,n=Object(L.a)().fetched,t=Object(C.a)("cookie_consent"),i=Object(a.useState)(!1),o=i[0],c=i[1],s=Object(a.useState)(!1),u=s[0],l=s[1],d=Object(a.useCallback)((function(){"complete"===window.document.readyState&&(l(!0),window.document.removeEventListener("readystatechange",d))}),[]);return Object(a.useEffect)((function(){u||("complete"!==window.document.readyState?window.document.addEventListener("readystatechange",d):l(!0))}),[u,d]),Object(a.useEffect)((function(){n&&c(!t)}),[n,t]),o&&e&&u?r.a.createElement(E.a,null,r.a.createElement("script",{type:"text/javascript",async:!0,src:e})):null},S=(t("ma9I"),t("oVuX"),t("E9XD"),t("rB9j"),t("UxlC"),t("bmMU")),T=t.n(S),I=t("lN9A"),j=t("/gu0"),A=t("nQC+"),N=t("Ps6z"),w=(t("yq1k"),t("yXV3"),t("pDQq"),[]),R=(t("QWBl"),t("zKZe"),t("JTJg"),t("FZtP"),{pageName:"",siteName:"lego-main",server:"",pageType:"",siteSection:"",siteSectionLvl2:"",siteSectionLvl3:"",siteSectionLvl4:"",region:"",webSessionId:"",user:{loggedIn:"",age:"",memberCountry:""},vip:{status:""}});function k(e,n){var t,a=n||{bubbles:!1,cancelable:!1,detail:void 0};try{(t=document.createEvent("CustomEvent")).initCustomEvent(e,a.bubbles,a.cancelable,a.detail)}catch(n){(t=document.createEvent("Event")).initEvent(e,a.bubbles,a.cancelable),t.detail=a.detail}return t}var P=function(){var e=Object(a.useState)(R),n=e[0],t=e[1],r=o().consentChecker;return{triggerEvent:Object(a.useCallback)((function(e){(Array.isArray(e)?e:[e]).forEach((function(e){var n=e.eventType,a=e.label,i=e.data;r(a)&&(n.includes("dataLayer")&&i&&t((function(e){return a.toLowerCase().includes("view")?Object.assign({},function(e,n){return Object.assign({},R,{region:e.region,server:e.server,user:e.user,vip:e.vip,webSessionId:e.webSessionId},n.pageName===e.pageName?{gate:e.gate,experimentID:e.experimentID}:{})}(e,i),i):Object.assign({},e,i)})),n.includes("customEvent")&&function(e,n){var t=new k(e,n||void 0);document.dispatchEvent(t)}(a,i?{detail:i}:null))}))}),[r]),state:n}},_=(t("toAj"),function(e){return JSON.parse(JSON.stringify(e),(function(e,n){switch(e){case"rating":return"no rating"===(t=n)?t:t.toFixed(1);case"currency":return n.toUpperCase();case"pageName":case"availability":return n.toLowerCase();case"discount":case"shippingCost":return function(e){return"number"==typeof e?Math.abs(e).toFixed(2):e}(n);default:return"object"!=typeof n&&null!==n?String(n):n}var t}))}),x=function(e){var n,t,i=e.children,c=Object(I.a)(),s=c.pathname,u=c.locale,l=c.query,d=Object(a.useState)(null),p=d[0],f=d[1],m=Object(C.a)("cookie_consent"),y=function(e,n){void 0===n&&(n={});var t=Object(a.useState)({loaded:!1,error:!1}),r=t[0],i=t[1],o=Object(a.useCallback)((function(){var t=document.createElement("script");return t.id=JSON.stringify(e),t.src=e,t.type="text/javascript",t.async=!0,n.crossOrigin&&(t.crossOrigin=n.crossOrigin),n.integrity&&(t.integrity=n.integrity),t}),[n.crossOrigin,n.integrity,e]);return Object(a.useEffect)((function(){var n;if(!e)return i({loaded:!1,error:!0});var t=function(){if(n){var t=w.indexOf(e);t>=0&&w.splice(t,1),n.remove(),i({loaded:!0,error:!0})}},a=function(){n&&(n._scriptloaded=!0,i({loaded:!0,error:!1}))},r=function(){n&&(n.addEventListener("load",a),n.addEventListener("error",t),document.head&&document.head.appendChild(n))};return w.includes(e)?(n=document.getElementById(JSON.stringify(e)))?n._scriptloaded?i({loaded:!0,error:!1}):r():i({loaded:!1,error:!0}):(n=o(),r(),w.push(e)),function(){n&&(n.removeEventListener("error",t),n.removeEventListener("load",a))}}),[e,o]),[r.loaded,r.error]}(null==b.a||null==(n=b.a.tagManager)?void 0:n.script)[0],v=P(),h=v.state,E=v.triggerEvent,O=Object(a.useRef)(null),S=Object(L.a)(),x=Object(a.useRef)(Object(N.f)("AGE_GATE")),U=Object(a.useRef)(R),B=Object(j.a)(),V=Object(a.useRef)(null),D=(0,o().consentChecker)("viewPageLoad"),F=s!==O.current;return F&&y&&D&&(t=new k("event-view-start"),document.dispatchEvent(t),O.current=s),Object(a.useEffect)((function(){S.fetched&&f(m?Object(N.e)():Object(N.d)())}),[S.fetched,m]),Object(a.useEffect)((function(){F&&y&&D&&function(){var e=new k("event-view-end");document.dispatchEvent(e)}()}),[F,y,D]),Object(a.useEffect)((function(){B&&!T()(V.current,B)&&y&&(E({label:"initSite",eventType:["customEvent"],data:{locale:B.locale,currencyConversionRate:B.rate}}),V.current=B),p&&(E({label:"addFunctionalTag",eventType:["customEvent"]}),E({label:"addRemarketingTag",eventType:["customEvent"]}))}),[B,E,p,y]),Object(a.useEffect)((function(){y&&E({label:"updateRegion",eventType:["dataLayer"],data:{region:u.toLowerCase()}})}),[u,y,E]),Object(a.useEffect)((function(){var e;y&&(E({label:"webSessionId",eventType:["dataLayer"],data:{webSessionId:Object(A.a)()}}),E({label:"domain",eventType:["dataLayer"],data:{server:(null==b.a||null==(e=b.a.lego)?void 0:e.host)?b.a.lego.host.replace(/^https?:\/\//,""):""}}))}),[E,y]),Object(a.useEffect)((function(){E({label:"updateUser",eventType:["dataLayer"],data:{user:{loggedIn:!!S.username,age:S.age||"",memberCountry:S.country||""},vip:{status:S.isVip}}})}),[S,E]),Object(a.useEffect)((function(){if(h.siteSection&&y){var e,n=[h.siteSection,h.siteSectionLvl2,h.siteSectionLvl3,h.siteSectionLvl4];if(l.experience)e=(l.appcontext?"app":"web")+":"+l.experience;else{var t=Object(A.c)();e=t?"web:"+t:t}var a=n.reduce((function(e,n){return n&&"string"==typeof n?[].concat(e,[n.replace(/\s+/g,"-").toLowerCase()]):e}),[]).join(":");Object(A.h)(a),E({label:"referrerExperience",eventType:["dataLayer"],data:{referrerExperience:e||""}})}}),[h.siteSection,h.siteSectionLvl2,h.siteSectionLvl3,h.siteSectionLvl4,y]),Object(a.useEffect)((function(){x.current||h.gate||!U.current.pageName||U.current.pageName===h.pageName||(x.current=Object(N.f)("AGE_GATE")),!T()(U.current,h)&&"undefined"!=typeof window&&y&&(h.gate||x.current)&&(U.current=h,window.dataLayer=_(h||{}))}),[h,x,y]),r.a.createElement(g.Provider,{value:{triggerEvent:E}},i)},U=t("uVGu"),B={pab:{pageType:"pab",pageName:"pickabrick"},bap:{pageType:"bap",pageName:"bap"},externalLineItem:{pageType:"externalLineItem",pageName:"external-line-item"},catalog:{pageType:"catelog",pageName:"catalogues"},cookieSettings:{pageType:"termspolicies",pageName:"cookie-settings"},orderDetails:{pageType:"orderstatus",pageName:"order-details"},orderStatus:{pageType:"orderstatus",pageName:"orders"},orderTracking:{pageType:"orderstatus",pageName:"order-tracking"},emailSubscription:{pageType:"landingpage",pageName:"email-subscription"},miniBuilds:{pageType:"minibuilds",pageName:"minibuilds"},wishlist:{pageType:"wishlist",pageName:"wishlist"},vipPage:{pageType:"vip",pageName:"vip-page"},vipFaq:{pageType:"vip",pageName:"vip-faq"},vipConfirmation:{pageType:"vip",pageName:"vip-confirmation"},vipExpired:{pageType:"vip",pageName:"vip-expired"},vipJoin:{pageType:"vip",pageName:"vip-join"},vipPromotions:{pageType:"vip",pageName:"vip-promotions"},vipRegister:{pageType:"vip",pageName:"vip-register"},vipAuthorise:{pageType:"vip",pageName:"vip-authorise"},vipUnderage:{pageType:"vip",pageName:"vip-underage"},vipNotVerified:{pageType:"vip",pageName:"vip-not-verified"},vipNotFound:{pageType:"vip",pageName:"vip-not-found"},vipMaintenance:{pageType:"vip",pageName:"vip-maintenance"},vipAccountError:{pageType:"vip",pageName:"vip-account-error"},vipRegisterCard:{pageType:"vip",pageName:"vip-register-card"},vipTerms:{pageType:"vip",pageName:"vip-terms"},vipLanding:{pageType:"vip",pageName:"vip-landing"},vipWinners:{pageType:"vip",pageName:"vip-winners"},giveGiftCard:{pageType:"giftcards",pageName:"give"},physicalGiftCard:{pageType:"giftcards",pageName:"physical"},electronicGiftCard:{pageType:"giftcards",pageName:"electronic"},redeemGiftCard:{pageType:"giftcards",pageName:"redeem"},balanceGiftCard:{pageType:"giftcards",pageName:"check_balance"},reloadGiftCard:{pageType:"giftcards",pageName:"reload"},vipAccount2:{pageType:"vip",pageName:"account2"},vipHome2:{pageType:"vip",pageName:"home2"},vipFAQs2:{pageType:"vip",pageName:"faqs2"},vipGetPoints2:{pageType:"vip",pageName:"get-points2"},vipRewards2:{pageType:"vip",pageName:"rewards2"},vipTerms2:{pageType:"vip",pageName:"terms2"},vipPromoTerms2:{pageType:"vip",pageName:"promo-terms2"},vipWinners2:{pageType:"vip",pageName:"winners2"},storesLandingPage:{pageType:"stores",pageName:"homepage"},storeDirectory:{pageType:"stores",pageName:"all-stores"},storeSearchResults:{pageType:"stores",pageName:"search-results"},storeDetails:{pageType:"stores"},storeEvent:{pageType:"stores"},accountOverview:{pageType:"account",pageName:"account-overview"},accountDetails:{pageType:"account",pageName:"account-details"},accountOrders:{pageType:"account",pageName:"account-orders"},accountSignIn:{pageType:"account",pageName:"account-sign-in"},mosaicMaker:{pageType:"mosaicMaker",pageName:"mosaic-maker"}},V=function(e,n){var t=f().triggerEvent;Object(U.a)((function(){var a=Object.assign({},B[e],n?{pageName:n}:null);a&&(t({label:"viewPage",eventType:["customEvent"],data:{page_type:a.pageType}}),t({label:"staticView",eventType:["dataLayer"],data:Object.assign({},a,{siteSection:a.pageName})}))}))}},o6BI:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t("q1tI"),r=a.useLayoutEffect,i=function(e,n){r(e,n)}},qeSB:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));t("yq1k"),t("Rfxz"),t("sMBO"),t("zKZe"),t("07d7"),t("5s+n"),t("mRH6");var a=t("Qyje"),r=t.n(a),i=t("1jQf"),o=t("BJ98"),c=t.n(o),s=t("b0dj"),u=(t("rRgP"),t("+2oP"),t("lTCR"));function l(){var e=function(e,n){n||(n=e.slice(0));return e.raw=n,e}(["\n  mutation Login($forceCtLogin: Boolean) {\n    login(forceCtLogin: $forceCtLogin)\n  }\n"]);return l=function(){return e},e}var d=t.n(u)()(l()),p=function(e,n){var t=function(e,n){void 0===n&&(n=!1);var t={operationName:"Login",extensions:{},variables:{forceCtLogin:n},query:e};return Object(i.b)({},t)}(d,n);return t.setContext(Object.assign({},e.getContext())),t},g=function(e){return{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)}},f=t("e/ku"),m=t("Ifwf"),y=t("gi7Z"),v=t("BOF4"),b=t.n(v),h=t("FGiv"),E=t.n(h);var L="UNAUTHORIZED",C="CTFORBIDDEN",O="EXPIRED",S=function(){var e,n,t=Object(f.b)(),a=function(e){var n,a=e.getContext();return e.setContext(Object.assign({},a,{headers:Object.assign({},a.headers,(n={},n.authorization=t||"",n))})),e},o=function(e){var n,t=Object(y.a)("lid"),a=e.getContext();return e.setContext(Object.assign({},a,{headers:Object.assign({},a.headers,(n={},n.lid=r.a.stringify(t),n))})),e},u=function(r,u,l){return new s.a((function(s){var d;return(n||(n=function(n,a,r){try{var c=p(n,r);return Promise.resolve(m.a.getInstance().silentLogin()).then((function(){return c=o(c),Promise.resolve(Object(i.e)(a(c))).then((function(n){var a=n.data,r=n.errors;if(void 0===a||"string"!=typeof a.login||Array.isArray(r)&&r.length>0){t=null,Object(f.a)();var i=new Error("Could not refresh auth token");throw i.link=e,i}return t=a.login,Object(f.c)(t),t}))}))}catch(e){return Promise.reject(e)}}(r,u,l))).then((function(){var e=c()(u,a,o)(r);d=e.subscribe(g(s))})).catch((function(e){return s.error(e)})).then((function(){n=void 0})),function(){d&&d.unsubscribe()}}))};return e=new i.a((function(e,n){var r,i,c,l=a(o(e));try{r=!t||(i=t,c=1e3*b()(i).exp,Date.now()>c-E()("5m"))}catch(e){if("InvalidTokenError"===e.name||e.extensions&&(e.extensions.code===L||e.extensions.code===O))return Object(f.a)(),void window.location.reload();throw e}return r?u(l,n):new s.a((function(e){var t,r=!1,i=n(a(l)).subscribe({next:function(a){if((a.errors||[]).some((function(e){var n;return[L,O,C].includes(null!=(n=e)&&null!=(n=n.extensions)?n.code:n)}))){r=!0;var i=u(l,n,!0);t=i.subscribe(g(e))}else e.next(a)},error:function(n){return e.error(n)},complete:function(){r||e.complete()}});return function(){i.unsubscribe(),t&&t.unsubscribe()}}))}))}},qnxR:function(e,n,t){"use strict";var a=t("ttZb");n.a=a.a},rVss:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t("yq1k"),t("JTJg");var a=t("c/gA"),r=function(e){var n=Object(a.a)().features;return null==n?void 0:n.includes(e)}},s3ei:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o}));t("rB9j"),t("UxlC");var a=t("Qyje"),r={allowDots:!0,arrayFormat:"indices"},i=function(e,n){var t=e.replace(/\.i(\d)/g,(function(e,n){return"["+n+"]"}));return Object(a.parse)(t,r)},o=function(e,n){return Object(a.stringify)(e,r).replace(/%5B(\d)%5D/g,(function(e,n){return".i"+n}))}},tm46:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("o6BI"),r=function(e){Object(a.a)((function(){if(document.body&&document.documentElement&&e)return document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.position="relative",function(){document.documentElement&&document.documentElement.removeAttribute("style"),document.body&&document.body.removeAttribute("style")}}),[e])}},uVGu:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("q1tI"),r=function(e){Object(a.useEffect)(e,[])}},viki:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t("piMb"),t("fbCW"),t("zKZe"),t("T63A");var a=t("Ps6z"),r={shippingMethodAccordion:"analytics",collectionPointDelivery:"analytics",collectionPointSearchTerm:"analytics",collectionPointInvalidSearch:"analytics",collectionPointSelected:"analytics",cartView:"analytics",scAdd:"analytics",scOpen:"analytics",scRemove:"analytics",moveToWishList:"analytics",promoSuccess:"analytics",promoError:"analytics",checkoutStep:"analytics",orderConfirmation:"analytics",formError:"analytics",paypalCheckout:"analytics",paypalStatus:"analytics",checkoutComplete:"legomarketing",checkoutCompleteAffiliate:"thirdparty",addRemarketingTagOrderConfirm:"thirdparty",addRemarketingTag:"thirdparty",addToBag:"thirdparty",addToBagPopUp:"analytics",addToBagPopUpViewMyBag:"analytics",addToBagPopUpContinueShopping:"analytics",addToBagPopUpOpen:"analytics",addToBagPopUpClose:"analytics",paymentMethodIntent:"analytics",searchAnotherAddress:"analytics",deliveryAddressChange:"analytics",billingAddressCheckbox:"analytics",deliveryAddressEdit:"analytics",contactInformationEdit:"analytics",billingAddressChange:"analytics",billingAddressEdit:"analytics",PABAddToCart:"analytics",PABBrickDetails:"analytics",PABClearSearch:"analytics",PABNextPage:"analytics",PABPick:"analytics",PABPrevPage:"analytics",PABRemove:"analytics",PABSameBrick:"analytics",PABSameColor:"analytics",PABSearch:"analytics",searchView:"analytics",plpView:"analytics",searchFilter:"analytics",searchFilterReset:"analytics",plpFilter:"analytics",plpSort:"analytics",plpFilterReset:"analytics",searchSort:"analytics",searchResultClick:"analytics",abTest:"analytics",plpScroll:"analytics",pdpView:"analytics",zoom:"analytics",carouselArrow:"analytics",carouselThumbnail:"analytics",spinSetInteraction:"analytics",pdpScroll:"analytics",pdp_3d_interactions:"analytics",thirdPartyRetailerClick:"analytics",productCarouselClick:"analytics",pdpPromoModuleAbTest:"analytics",pdp_check_store_stock_tab:"analytics",pdp_check_store_stock_search:"analytics",pdp_change_location:"analytics",pdp_see_store_details:"analytics",pdp_select_a_store_dropdown:"analytics",pdp_map_directions:"analytics",staticView:"analytics",emailSignUpMarketing:"thirdparty",vipRegisterMarketing:"thirdparty",giftFinderView:"analytics",giftFinderClick:"analytics",updateUser:"analytics",videoInteraction:"analytics",updateRegion:"analytics",chatStarted:"analytics",sessionId:"analytics",headerNav:"analytics",domain:"analytics",referrerExperience:"analytics",ageGateShown:"analytics",ageGateAdult:"analytics",initSite:"thirdparty",addFunctionalTag:"analytics",changeRegion:"analytics",changeRegionSelector:"analytics",userError:"analytics",notFound:"analytics",adobeAdCloud:"thirdparty",acceptCookiesAnalytics:"analytics",viewPage:"thirdparty",viewProduct:"thirdparty",viewProductInfinity:"analytics",addToBagInfinity:"analytics",addToWishList:"analytics",removeFromWishList:"analytics",event:"analytics",physicalGiftCardValue:"analytics",electronicGiftCardValue:"analytics",promoShown:"analytics",optimizely:"analytics",npsScript:"analytics",affiliatesCookies:"thirdparty",viewPageLoad:"analytics",loadDecibelScript:"analytics",acceptCookiesThirdParty:"thirdparty",crossSessionCookieId:"legomarketing",recommendations:"legomarketing"},i={addFunctionalTag:"functional",addRemarketingTagOrderConfirm:"marketing",addRemarketingTag:"marketing",addToBag:"marketing",addToBagInfinity:"marketing",checkoutComplete:"analytics",checkoutCompleteAffiliate:"analytics",emailSignUpMarketing:"marketing",initSite:"analytics",viewPage:"marketing",viewPageLoad:"analytics",viewProduct:"marketing",viewProductInfinity:"marketing",vipRegisterMarketing:"marketing",affiliatesCookies:"functional",crossSessionCookieId:"functional",recommendations:"analytics"};function o(e){var n=Object(a.d)(),t=Object(a.e)();if(t){var o=r[e];if(o){var c=t.find((function(e){return e.label===o}));return(null==c?void 0:c.value)||!1}return t.every((function(e){return!0===e.value}))}var s=Object.assign({},r,i)[e];return s?"analytics"===s||!!n&&n[s]:!!n&&Object.entries(n).every((function(e){return!0===e[1]}))}}}]);
//# sourceMappingURL=5d3e30bea2b541994f1b.58.js.map